<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3c.org/TR/1999/REC-html401-19991224/loose.dtd">
<!-- saved from url=(0049)http://www.phpmaniac.net/wiki/index.php/Pear_Mail -->
<HTML dir=ltr lang=en xml:lang="en" 
xmlns="http://www.w3.org/1999/xhtml"><HEAD><TITLE>Pear Mail - Phpmaniac</TITLE>
<META content="text/html; charset=UTF-8" http-equiv=Content-Type>
<META name=keywords content="Pear Mail,Main Page"><LINK rel="shortcut icon" 
href="/favicon.ico"><LINK title="Phpmaniac (English)" rel=search 
type=application/opensearchdescription+xml 
href="/wiki/opensearch_desc.php"><LINK title="Creative Commons" rel=meta 
type=application/rdf+xml 
href="/wiki/index.php?title=Pear_Mail&amp;action=creativecommons"><LINK 
rel=copyright href="http://creativecommons.org/licenses/by-nc-nd/3.0/"><LINK 
title="Phpmaniac RSS Feed" rel=alternate type=application/rss+xml 
href="http://www.phpmaniac.net/wiki/index.php?title=Special:Recentchanges&amp;feed=rss"><LINK 
title="Phpmaniac Atom Feed" rel=alternate type=application/atom+xml 
href="http://www.phpmaniac.net/wiki/index.php?title=Special:Recentchanges&amp;feed=atom">
<STYLE type=text/css media="screen, projection">@import url( /wiki/skins/common/shared.css?116 );
@import url( /wiki/skins/monobook/main.css?116 );
</STYLE>
<LINK rel=stylesheet type=text/css 
href="Pear%20Mail%20-%20Phpmaniac_files/commonPrint.css" media=print><!--[if lt IE 5.5000]><style type="text/css">@import "/wiki/skins/monobook/IE50Fixes.css?116";</style><![endif]--><!--[if IE 5.5000]><style type="text/css">@import "/wiki/skins/monobook/IE55Fixes.css?116";</style><![endif]--><!--[if IE 6]><style type="text/css">@import "/wiki/skins/monobook/IE60Fixes.css?116";</style><![endif]--><!--[if IE 7]><style type="text/css">@import "/wiki/skins/monobook/IE70Fixes.css?116";</style><![endif]--><!--[if lt IE 7]><script type="text/javascript" src="/wiki/skins/common/IEFixes.js?116"></script>
		<meta http-equiv="imagetoolbar" content="no" /><![endif]-->
<SCRIPT type=text/javascript>/*<![CDATA[*/
var skin = "monobook";
var stylepath = "/wiki/skins";
var wgArticlePath = "/wiki/index.php/$1";
var wgScriptPath = "/wiki";
var wgScript = "/wiki/index.php";
var wgServer = "http://www.phpmaniac.net";
var wgCanonicalNamespace = "";
var wgCanonicalSpecialPageName = false;
var wgNamespaceNumber = 0;
var wgPageName = "Pear_Mail";
var wgTitle = "Pear Mail";
var wgAction = "view";
var wgRestrictionEdit = [];
var wgRestrictionMove = [];
var wgArticleId = "6";
var wgIsArticle = true;
var wgUserName = null;
var wgUserGroups = null;
var wgUserLanguage = "en";
var wgContentLanguage = "en";
var wgBreakFrames = false;
var wgCurRevisionId = "152";
var wgVersion = "1.12.0";
var wgEnableAPI = true;
var wgEnableWriteAPI = false;
/*]]>*/</SCRIPT>

<SCRIPT type=text/javascript 
src="Pear%20Mail%20-%20Phpmaniac_files/wikibits.js"><!-- wikibits js --></SCRIPT>
<!-- Head Scripts -->
<SCRIPT type=text/javascript 
src="Pear%20Mail%20-%20Phpmaniac_files/ajax.js"></SCRIPT>

<STYLE type=text/css>.source-php {
	LINE-HEIGHT: normal
}
.source-php LI {
	LINE-HEIGHT: normal
}
.source-php .de1 {
	FONT-FAMILY: "Courier New", Courier, monospace; FONT-WEIGHT: normal
}
.source-php .de2 {
	FONT-FAMILY: "Courier New", Courier, monospace; FONT-WEIGHT: normal
}
.source-php {
	
}
.source-php .head {
	
}
.source-php .foot {
	
}
.source-php .imp {
	COLOR: red; FONT-WEIGHT: bold
}
.source-php LI {
	FONT-STYLE: normal; FONT-FAMILY: "Courier New", Courier, monospace; COLOR: black; FONT-WEIGHT: normal
}
.source-php LI.li1 {
	FONT-STYLE: normal; FONT-FAMILY: "Courier New", Courier, monospace; COLOR: black; FONT-WEIGHT: normal
}
.source-php LI.li2 {
	FONT-WEIGHT: bold
}
.source-php .kw1 {
	COLOR: #b1b100
}
.source-php .kw2 {
	COLOR: #000000; FONT-WEIGHT: bold
}
.source-php .kw3 {
	COLOR: #000066
}
.source-php .co1 {
	FONT-STYLE: italic; COLOR: #808080
}
.source-php .co2 {
	FONT-STYLE: italic; COLOR: #808080
}
.source-php .coMULTI {
	FONT-STYLE: italic; COLOR: #808080
}
.source-php .es0 {
	COLOR: #000099; FONT-WEIGHT: bold
}
.source-php .br0 {
	COLOR: #66cc66
}
.source-php .sy0 {
	COLOR: #66cc66
}
.source-php .st0 {
	COLOR: #ff0000
}
.source-php .nu0 {
	COLOR: #cc66cc
}
.source-php .me1 {
	COLOR: #006600
}
.source-php .me2 {
	COLOR: #006600
}
.source-php .sc0 {
	
}
.source-php .sc1 {
	
}
.source-php .sc2 {
	
}
.source-php .sc3 {
	
}
.source-php .re0 {
	COLOR: #0000ff
}
.source-php .re1 {
	COLOR: #ff0000
}
.source-php .ln-xtra {
	BACKGROUND-COLOR: #ffc; COLOR: #cc0
}
.source-php LI.ln-xtra {
	BACKGROUND-COLOR: #ffc; COLOR: #cc0
}
.source-php DIV.ln-xtra {
	BACKGROUND-COLOR: #ffc; COLOR: #cc0
}
</STYLE>

<STYLE type=text/css>@import url( /wiki/index.php?title=MediaWiki:Geshi.css&usemsgcache=yes&action=raw&ctype=text/css&smaxage=18000 );
</STYLE>

<SCRIPT type=text/javascript src="Pear%20Mail%20-%20Phpmaniac_files/index.php"><!-- site js --></SCRIPT>

<STYLE type=text/css>@import url( /wiki/index.php?title=MediaWiki:Common.css&usemsgcache=yes&action=raw&ctype=text/css&smaxage=18000 );
@import url( /wiki/index.php?title=MediaWiki:Monobook.css&usemsgcache=yes&action=raw&ctype=text/css&smaxage=18000 );
@import url( /wiki/index.php?title=-&action=raw&gen=css&maxage=18000 );
</STYLE>

<META name=GENERATOR content="MSHTML 8.00.6001.18702"></HEAD>
<BODY class="mediawiki ns-0 ltr page-Pear_Mail">
<DIV id=globalWrapper>
<DIV id=column-content>
<DIV id=content><A id=top name=top></A>
<H1 class=firstHeading>Pear Mail</H1>
<DIV id=bodyContent>
<H3 id=siteSub>From Phpmaniac</H3>
<DIV id=contentSub></DIV>
<DIV id=jump-to-nav>Jump to: <A 
href="http://www.phpmaniac.net/wiki/index.php/Pear_Mail#column-one">navigation</A>, 
<A 
href="http://www.phpmaniac.net/wiki/index.php/Pear_Mail#searchInput">search</A></DIV><!-- start content -->
<P><A title="Main Page" 
href="http://www.phpmaniac.net/wiki/index.php/Main_Page">Return to Contents</A> 
</P>
<TABLE id=toc class=toc summary=Contents>
  <TBODY>
  <TR>
    <TD>
      <DIV id=toctitle>
      <H2>Contents</H2></DIV>
      <UL>
        <LI class=toclevel-1><A 
        href="http://www.phpmaniac.net/wiki/index.php/Pear_Mail#What_is_the_Pear_Mail_extension"><SPAN 
        class=tocnumber>1</SPAN> <SPAN class=toctext>What is the Pear Mail 
        extension</SPAN></A></LI>
        <LI class=toclevel-1><A 
        href="http://www.phpmaniac.net/wiki/index.php/Pear_Mail#Why"><SPAN 
        class=tocnumber>2</SPAN> <SPAN class=toctext>Why</SPAN></A></LI>
        <LI class=toclevel-1><A 
        href="http://www.phpmaniac.net/wiki/index.php/Pear_Mail#Installing_the_Pear_mail_extension"><SPAN 
        class=tocnumber>3</SPAN> <SPAN class=toctext>Installing the Pear mail 
        extension</SPAN></A></LI>
        <LI class=toclevel-1><A 
        href="http://www.phpmaniac.net/wiki/index.php/Pear_Mail#Sending_your_first_email"><SPAN 
        class=tocnumber>4</SPAN> <SPAN class=toctext>Sending your first 
        email</SPAN></A></LI>
        <LI class=toclevel-1><A 
        href="http://www.phpmaniac.net/wiki/index.php/Pear_Mail#Adding_attachments"><SPAN 
        class=tocnumber>5</SPAN> <SPAN class=toctext>Adding 
        attachments</SPAN></A> 
        <UL>
          <LI class=toclevel-2><A 
          href="http://www.phpmaniac.net/wiki/index.php/Pear_Mail#Adding_one_attachment"><SPAN 
          class=tocnumber>5.1</SPAN> <SPAN class=toctext>Adding one 
          attachment</SPAN></A></LI>
          <LI class=toclevel-2><A 
          href="http://www.phpmaniac.net/wiki/index.php/Pear_Mail#Adding_multiple_attachments"><SPAN 
          class=tocnumber>5.2</SPAN> <SPAN class=toctext>Adding multiple 
          attachments</SPAN></A></LI>
          <LI class=toclevel-2><A 
          href="http://www.phpmaniac.net/wiki/index.php/Pear_Mail#Adding_an_attachment_from_the_file_system"><SPAN 
          class=tocnumber>5.3</SPAN> <SPAN class=toctext>Adding an attachment 
          from the file system</SPAN></A></LI></UL></LI>
        <LI class=toclevel-1><A 
        href="http://www.phpmaniac.net/wiki/index.php/Pear_Mail#Sending_to_multiple_recipients"><SPAN 
        class=tocnumber>6</SPAN> <SPAN class=toctext>Sending to multiple 
        recipients</SPAN></A></LI>
        <LI class=toclevel-1><A 
        href="http://www.phpmaniac.net/wiki/index.php/Pear_Mail#Sending_using_SMTP"><SPAN 
        class=tocnumber>7</SPAN> <SPAN class=toctext>Sending using 
        SMTP</SPAN></A></LI>
        <LI class=toclevel-1><A 
        href="http://www.phpmaniac.net/wiki/index.php/Pear_Mail#Sending_using_authenticated_SMTP"><SPAN 
        class=tocnumber>8</SPAN> <SPAN class=toctext>Sending using authenticated 
        SMTP</SPAN></A></LI>
        <LI class=toclevel-1><A 
        href="http://www.phpmaniac.net/wiki/index.php/Pear_Mail#Security"><SPAN 
        class=tocnumber>9</SPAN> <SPAN class=toctext>Security</SPAN></A></LI>
        <LI class=toclevel-1><A 
        href="http://www.phpmaniac.net/wiki/index.php/Pear_Mail#Troubleshooting"><SPAN 
        class=tocnumber>10</SPAN> <SPAN class=toctext>Troubleshooting</SPAN></A> 

        <UL>
          <LI class=toclevel-2><A 
          href="http://www.phpmaniac.net/wiki/index.php/Pear_Mail#Pear_not_up_to_date"><SPAN 
          class=tocnumber>10.1</SPAN> <SPAN class=toctext>Pear not up to 
          date</SPAN></A></LI>
          <LI class=toclevel-2><A 
          href="http://www.phpmaniac.net/wiki/index.php/Pear_Mail#Pear_Channels_protocol_not_up_to_date"><SPAN 
          class=tocnumber>10.2</SPAN> <SPAN class=toctext>Pear Channels protocol 
          not up to date</SPAN></A></LI>
          <LI class=toclevel-2><A 
          href="http://www.phpmaniac.net/wiki/index.php/Pear_Mail#Emails_not_being_sent"><SPAN 
          class=tocnumber>10.3</SPAN> <SPAN class=toctext>Emails not being 
          sent</SPAN></A></LI></UL></LI></UL></TD></TR></TBODY></TABLE>
<SCRIPT type=text/javascript> if (window.showTocToggle) { var tocShowText = "show"; var tocHideText = "hide"; showTocToggle(); } </SCRIPT>
<A name=What_is_the_Pear_Mail_extension></A>
<H1><SPAN class=mw-headline>What is the Pear Mail extension</SPAN></H1>
<P>The Pear mail extension is an easy object oriented approach to sending email 
with PHP. </P>
<P>It can allow you to send multi-part MIME email without needing to know how 
things like boundaries and mime types work. </P><A name=Why></A>
<H1><SPAN class=mw-headline>Why</SPAN></H1>
<P>PHP already has the command mail which can send email, and it's already built 
into the base of PHP. </P>
<P>This method is good, and I have used it many times, but in order to send 
complex emails including attachments and protect against mail header injection 
attacks, you need to have an in depth understanding of how email and MIME works. 
</P>
<P>The Pear Mail extension allows us to do this easily, quickly, and more 
importantly, it has been tested thoroughly, probably more so than any email code 
that we write. </P><A name=Installing_the_Pear_mail_extension></A>
<H1><SPAN class=mw-headline>Installing the Pear mail extension</SPAN></H1>
<P>If you already have pear installed on your server, you can install the pear 
mail extension by entering the following command. </P><PRE># pear install mail
# pear install Net_SMTP
# pear install mail_mime
</PRE>
<P>This will put the libraries that we need to use in PHP's include path for 
your operating system. </P><A name=Sending_your_first_email></A>
<H1><SPAN class=mw-headline>Sending your first email</SPAN></H1>
<P>This example shows how to create an email which will display html in html 
capable email clients, and text in non capable email clients. </P>
<DIV style="TEXT-ALIGN: left" dir=ltr>
<DIV style="FONT-FAMILY: monospace" class=source-php>
<OL>
  <LI class=li1>
  <DIV class=de1><SPAN class=kw2>&lt;?</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=kw1>include</SPAN><SPAN 
  class=br0>(</SPAN><SPAN class=st0>'Mail.php'</SPAN><SPAN 
  class=br0>)</SPAN><SPAN class=sy0>;</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=kw1>include</SPAN><SPAN 
  class=br0>(</SPAN><SPAN class=st0>'Mail/mime.php'</SPAN><SPAN 
  class=br0>)</SPAN><SPAN class=sy0>;</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp;</DIV></LI>
  <LI class=li2>
  <DIV class=de2>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=co1>// Constructing the 
  email</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=re1>$sender</SPAN> 
  <SPAN class=sy0>=</SPAN> <SPAN class=st0>"Leigh 
  &lt;leigh@no_spam.net&gt;"</SPAN><SPAN class=sy0>;</SPAN> &nbsp; &nbsp; &nbsp; 
  &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
  &nbsp;<SPAN class=co1>// Your name and email address</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=re1>$recipient</SPAN> 
  <SPAN class=sy0>=</SPAN> <SPAN class=st0>"Leigh 
  &lt;leigh@no_spam.net&gt;"</SPAN><SPAN class=sy0>;</SPAN> &nbsp; &nbsp; &nbsp; 
  &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <SPAN 
  class=co1>// The Recipients name and email address</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=re1>$subject</SPAN> 
  <SPAN class=sy0>=</SPAN> <SPAN class=st0>"Test Email"</SPAN><SPAN 
  class=sy0>;</SPAN> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
  &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
  &nbsp; &nbsp; &nbsp;<SPAN class=co1>// Subject for the email</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=re1>$text</SPAN> <SPAN 
  class=sy0>=</SPAN> <SPAN class=st0>'This is a text message.'</SPAN><SPAN 
  class=sy0>;</SPAN> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
  &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<SPAN 
  class=co1>// Text version of the email</SPAN></DIV></LI>
  <LI class=li2>
  <DIV class=de2>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=re1>$html</SPAN> <SPAN 
  class=sy0>=</SPAN> <SPAN class=st0>'&lt;html&gt;&lt;body&gt;&lt;p&gt;This is a 
  html message&lt;/p&gt;&lt;/body&gt;&lt;/html&gt;'</SPAN><SPAN 
  class=sy0>;</SPAN> &nbsp;<SPAN class=co1>// HTML version of the 
  email</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=re1>$crlf</SPAN> <SPAN 
  class=sy0>=</SPAN> <SPAN class=st0>"<SPAN class=es0>\n</SPAN>"</SPAN><SPAN 
  class=sy0>;</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=re1>$headers</SPAN> 
  <SPAN class=sy0>=</SPAN> <SPAN class=kw3>array</SPAN><SPAN 
  class=br0>(</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
  &nbsp; &nbsp; &nbsp; <SPAN class=st0>'From'</SPAN> &nbsp; &nbsp; &nbsp; &nbsp; 
  &nbsp;<SPAN class=sy0>=&gt;</SPAN> <SPAN class=re1>$sender</SPAN><SPAN 
  class=sy0>,</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
  &nbsp; &nbsp; &nbsp; <SPAN class=st0>'Return-Path'</SPAN> &nbsp; <SPAN 
  class=sy0>=&gt;</SPAN> <SPAN class=re1>$sender</SPAN><SPAN 
  class=sy0>,</SPAN></DIV></LI>
  <LI class=li2>
  <DIV class=de2>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
  &nbsp; &nbsp; &nbsp; <SPAN class=st0>'Subject'</SPAN> &nbsp; &nbsp; &nbsp; 
  <SPAN class=sy0>=&gt;</SPAN> <SPAN class=re1>$subject</SPAN> </DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
  &nbsp; &nbsp; &nbsp; <SPAN class=br0>)</SPAN><SPAN 
  class=sy0>;</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp;</DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=co1>// Creating the 
  Mime message</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=re1>$mime</SPAN> <SPAN 
  class=sy0>=</SPAN> <SPAN class=kw2>new</SPAN> Mail_mime<SPAN 
  class=br0>(</SPAN><SPAN class=re1>$crlf</SPAN><SPAN class=br0>)</SPAN><SPAN 
  class=sy0>;</SPAN></DIV></LI>
  <LI class=li2>
  <DIV class=de2>&nbsp;</DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=co1>// Setting the body 
  of the email</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=re1>$mime</SPAN><SPAN 
  class=sy0>-&gt;</SPAN><SPAN class=me1>setTXTBody</SPAN><SPAN 
  class=br0>(</SPAN><SPAN class=re1>$text</SPAN><SPAN class=br0>)</SPAN><SPAN 
  class=sy0>;</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=re1>$mime</SPAN><SPAN 
  class=sy0>-&gt;</SPAN><SPAN class=me1>setHTMLBody</SPAN><SPAN 
  class=br0>(</SPAN><SPAN class=re1>$html</SPAN><SPAN class=br0>)</SPAN><SPAN 
  class=sy0>;</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp;</DIV></LI>
  <LI class=li2>
  <DIV class=de2>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=re1>$body</SPAN> <SPAN 
  class=sy0>=</SPAN> <SPAN class=re1>$mime</SPAN><SPAN 
  class=sy0>-&gt;</SPAN><SPAN class=me1>get</SPAN><SPAN class=br0>(</SPAN><SPAN 
  class=br0>)</SPAN><SPAN class=sy0>;</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=re1>$headers</SPAN> 
  <SPAN class=sy0>=</SPAN> <SPAN class=re1>$mime</SPAN><SPAN 
  class=sy0>-&gt;</SPAN><SPAN class=me1>headers</SPAN><SPAN 
  class=br0>(</SPAN><SPAN class=re1>$headers</SPAN><SPAN class=br0>)</SPAN><SPAN 
  class=sy0>;</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp;</DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=co1>// Sending the 
  email</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=re1>$mail</SPAN> <SPAN 
  class=sy0>=&amp;</SPAN> <SPAN class=kw3>Mail</SPAN><SPAN 
  class=sy0>::</SPAN><SPAN class=me2>factory</SPAN><SPAN class=br0>(</SPAN><SPAN 
  class=st0>'mail'</SPAN><SPAN class=br0>)</SPAN><SPAN 
  class=sy0>;</SPAN></DIV></LI>
  <LI class=li2>
  <DIV class=de2>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=re1>$mail</SPAN><SPAN 
  class=sy0>-&gt;</SPAN><SPAN class=me1>send</SPAN><SPAN class=br0>(</SPAN><SPAN 
  class=re1>$recipient</SPAN><SPAN class=sy0>,</SPAN> <SPAN 
  class=re1>$headers</SPAN><SPAN class=sy0>,</SPAN> <SPAN 
  class=re1>$body</SPAN><SPAN class=br0>)</SPAN><SPAN 
  class=sy0>;</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1><SPAN class=kw2>?&gt;</SPAN></DIV></LI></OL></DIV></DIV><A 
name=Adding_attachments></A>
<H1><SPAN class=mw-headline>Adding attachments</SPAN></H1><A 
name=Adding_one_attachment></A>
<H2><SPAN class=mw-headline>Adding one attachment</SPAN></H2>
<P>Adding 1 or many attachments is easy, adding the attachment is done by 
calling the addAttachment method, This method can be called multiple times to 
add multiple attachemnts. </P><PRE>boolean addAttachment (string $file, string [$c_type = 'application/octet-stream'], string [$name = <I>], boolean [$isfile = TRUE], string [$encoding = 'base64'])</I>
</PRE>
<P>Variables: </P>
<OL>
  <LI>$file: either the variable containing the content of a file, or the path 
  of the file itself </LI>
  <LI>$c_type: content type, meaning the mime type of file eg. text/plain, 
  text/csv, Application/pdf </LI>
  <LI>$name: The name of the file as you want it to appear in the email, this 
  should be unique </LI>
  <LI>$isFile: whether the variable $file is the path to the file, or the 
  content of the file </LI>
  <LI>$encoding: This should usually be left as the default unless you know what 
  you are doing </LI></OL>
<P>Attachments can be either stored in a variable, or in a file on the servers 
file system. in this first example I will create a small text file named 'hello 
text.txt', with the words 'Hello World!' in it. </P>
<DIV style="TEXT-ALIGN: left" dir=ltr>
<DIV style="FONT-FAMILY: monospace" class=source-php>
<OL>
  <LI class=li1>
  <DIV class=de1><SPAN class=kw2>&lt;?</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=kw1>include</SPAN><SPAN 
  class=br0>(</SPAN><SPAN class=st0>'Mail.php'</SPAN><SPAN 
  class=br0>)</SPAN><SPAN class=sy0>;</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=kw1>include</SPAN><SPAN 
  class=br0>(</SPAN><SPAN class=st0>'Mail/mime.php'</SPAN><SPAN 
  class=br0>)</SPAN><SPAN class=sy0>;</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp;</DIV></LI>
  <LI class=li2>
  <DIV class=de2>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=co1>// Constructing the 
  email</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=re1>$sender</SPAN> 
  <SPAN class=sy0>=</SPAN> <SPAN class=st0>"Leigh 
  &lt;leigh@no_spam.net&gt;"</SPAN><SPAN class=sy0>;</SPAN> &nbsp; &nbsp; &nbsp; 
  &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
  &nbsp;<SPAN class=co1>// Who your name and email address</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=re1>$recipient</SPAN> 
  <SPAN class=sy0>=</SPAN> <SPAN class=st0>"Leigh 
  &lt;leigh@no_spam.net&gt;"</SPAN><SPAN class=sy0>;</SPAN> &nbsp; &nbsp; &nbsp; 
  &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <SPAN 
  class=co1>// The Recipients name and email address</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=re1>$subject</SPAN> 
  <SPAN class=sy0>=</SPAN> <SPAN class=st0>"Test Email"</SPAN><SPAN 
  class=sy0>;</SPAN> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
  &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
  &nbsp; &nbsp; &nbsp;<SPAN class=co1>// Subject for the email</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=re1>$text</SPAN> <SPAN 
  class=sy0>=</SPAN> <SPAN class=st0>'This is a text message.'</SPAN><SPAN 
  class=sy0>;</SPAN> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
  &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<SPAN 
  class=co1>// Text version of the email</SPAN></DIV></LI>
  <LI class=li2>
  <DIV class=de2>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=re1>$html</SPAN> <SPAN 
  class=sy0>=</SPAN> <SPAN class=st0>'&lt;html&gt;&lt;body&gt;&lt;p&gt;This is a 
  html message&lt;/p&gt;&lt;/body&gt;&lt;/html&gt;'</SPAN><SPAN 
  class=sy0>;</SPAN> &nbsp;<SPAN class=co1>// HTML version of the 
  email</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=re1>$crlf</SPAN> <SPAN 
  class=sy0>=</SPAN> <SPAN class=st0>"<SPAN class=es0>\n</SPAN>"</SPAN><SPAN 
  class=sy0>;</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=re1>$headers</SPAN> 
  <SPAN class=sy0>=</SPAN> <SPAN class=kw3>array</SPAN><SPAN 
  class=br0>(</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
  &nbsp; &nbsp; &nbsp; <SPAN class=st0>'From'</SPAN> &nbsp; &nbsp; &nbsp; &nbsp; 
  &nbsp;<SPAN class=sy0>=&gt;</SPAN> <SPAN class=re1>$sender</SPAN><SPAN 
  class=sy0>,</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
  &nbsp; &nbsp; &nbsp; <SPAN class=st0>'Return-Path'</SPAN> &nbsp; <SPAN 
  class=sy0>=&gt;</SPAN> <SPAN class=re1>$sender</SPAN><SPAN 
  class=sy0>,</SPAN></DIV></LI>
  <LI class=li2>
  <DIV class=de2>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
  &nbsp; &nbsp; &nbsp; <SPAN class=st0>'Subject'</SPAN> &nbsp; &nbsp; &nbsp; 
  <SPAN class=sy0>=&gt;</SPAN> <SPAN class=re1>$subject</SPAN> </DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
  &nbsp; &nbsp; &nbsp; <SPAN class=br0>)</SPAN><SPAN 
  class=sy0>;</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp;</DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=co1>// Creating the 
  Mime message</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=re1>$mime</SPAN> <SPAN 
  class=sy0>=</SPAN> <SPAN class=kw2>new</SPAN> Mail_mime<SPAN 
  class=br0>(</SPAN><SPAN class=re1>$crlf</SPAN><SPAN class=br0>)</SPAN><SPAN 
  class=sy0>;</SPAN></DIV></LI>
  <LI class=li2>
  <DIV class=de2>&nbsp;</DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=co1>// Setting the body 
  of the email</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=re1>$mime</SPAN><SPAN 
  class=sy0>-&gt;</SPAN><SPAN class=me1>setTXTBody</SPAN><SPAN 
  class=br0>(</SPAN><SPAN class=re1>$text</SPAN><SPAN class=br0>)</SPAN><SPAN 
  class=sy0>;</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=re1>$mime</SPAN><SPAN 
  class=sy0>-&gt;</SPAN><SPAN class=me1>setHTMLBody</SPAN><SPAN 
  class=br0>(</SPAN><SPAN class=re1>$html</SPAN><SPAN class=br0>)</SPAN><SPAN 
  class=sy0>;</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp;</DIV></LI>
  <LI class=li2>
  <DIV class=de2>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=co1>// Add an 
  attachment</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=re1>$file</SPAN> <SPAN 
  class=sy0>=</SPAN> <SPAN class=st0>"Hello World!"</SPAN><SPAN 
  class=sy0>;</SPAN> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
  &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
  &nbsp;<SPAN class=co1>// Content of the file</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=re1>$file_name</SPAN> 
  <SPAN class=sy0>=</SPAN> <SPAN class=st0>"Hello text.txt"</SPAN><SPAN 
  class=sy0>;</SPAN> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
  &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=co1>// Name of 
  the Attachment</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN 
  class=re1>$content_type</SPAN> <SPAN class=sy0>=</SPAN> <SPAN 
  class=st0>"text/plain"</SPAN><SPAN class=sy0>;</SPAN> &nbsp; &nbsp; &nbsp; 
  &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
  &nbsp; &nbsp;<SPAN class=co1>// Content type of the file</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=re1>$mime</SPAN><SPAN 
  class=sy0>-&gt;</SPAN><SPAN class=me1>addAttachment</SPAN> <SPAN 
  class=br0>(</SPAN><SPAN class=re1>$file</SPAN><SPAN class=sy0>,</SPAN> <SPAN 
  class=re1>$content_type</SPAN><SPAN class=sy0>,</SPAN> <SPAN 
  class=re1>$file_name</SPAN><SPAN class=sy0>,</SPAN> <SPAN 
  class=nu0>0</SPAN><SPAN class=br0>)</SPAN><SPAN class=sy0>;</SPAN> &nbsp;<SPAN 
  class=co1>// Add the attachment to the email</SPAN></DIV></LI>
  <LI class=li2>
  <DIV class=de2>&nbsp;</DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=re1>$body</SPAN> <SPAN 
  class=sy0>=</SPAN> <SPAN class=re1>$mime</SPAN><SPAN 
  class=sy0>-&gt;</SPAN><SPAN class=me1>get</SPAN><SPAN class=br0>(</SPAN><SPAN 
  class=br0>)</SPAN><SPAN class=sy0>;</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=re1>$headers</SPAN> 
  <SPAN class=sy0>=</SPAN> <SPAN class=re1>$mime</SPAN><SPAN 
  class=sy0>-&gt;</SPAN><SPAN class=me1>headers</SPAN><SPAN 
  class=br0>(</SPAN><SPAN class=re1>$headers</SPAN><SPAN class=br0>)</SPAN><SPAN 
  class=sy0>;</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp;</DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=co1>// Sending the 
  email</SPAN></DIV></LI>
  <LI class=li2>
  <DIV class=de2>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=re1>$mail</SPAN> <SPAN 
  class=sy0>=&amp;</SPAN> <SPAN class=kw3>Mail</SPAN><SPAN 
  class=sy0>::</SPAN><SPAN class=me2>factory</SPAN><SPAN class=br0>(</SPAN><SPAN 
  class=st0>'mail'</SPAN><SPAN class=br0>)</SPAN><SPAN 
  class=sy0>;</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=re1>$mail</SPAN><SPAN 
  class=sy0>-&gt;</SPAN><SPAN class=me1>send</SPAN><SPAN class=br0>(</SPAN><SPAN 
  class=re1>$recipient</SPAN><SPAN class=sy0>,</SPAN> <SPAN 
  class=re1>$headers</SPAN><SPAN class=sy0>,</SPAN> <SPAN 
  class=re1>$body</SPAN><SPAN class=br0>)</SPAN><SPAN 
  class=sy0>;</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1><SPAN class=kw2>?&gt;</SPAN></DIV></LI></OL></DIV></DIV><A 
name=Adding_multiple_attachments></A>
<H2><SPAN class=mw-headline>Adding multiple attachments</SPAN></H2>
<P>As in the previous section, adding multiple attachments is as rasy as calling 
addAttachment again. In this example I will send an email with two text 
attachments. </P>
<DIV style="TEXT-ALIGN: left" dir=ltr>
<DIV style="FONT-FAMILY: monospace" class=source-php>
<OL>
  <LI class=li1>
  <DIV class=de1><SPAN class=kw2>&lt;?</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=kw1>include</SPAN><SPAN 
  class=br0>(</SPAN><SPAN class=st0>'Mail.php'</SPAN><SPAN 
  class=br0>)</SPAN><SPAN class=sy0>;</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=kw1>include</SPAN><SPAN 
  class=br0>(</SPAN><SPAN class=st0>'Mail/mime.php'</SPAN><SPAN 
  class=br0>)</SPAN><SPAN class=sy0>;</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp;</DIV></LI>
  <LI class=li2>
  <DIV class=de2>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=co1>// Constructing the 
  email</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=re1>$sender</SPAN> 
  <SPAN class=sy0>=</SPAN> <SPAN class=st0>"Leigh 
  &lt;leigh@no_spam.net&gt;"</SPAN><SPAN class=sy0>;</SPAN> &nbsp; &nbsp; &nbsp; 
  &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
  &nbsp;<SPAN class=co1>// Who your name and email address</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=re1>$recipient</SPAN> 
  <SPAN class=sy0>=</SPAN> <SPAN class=st0>"Leigh 
  &lt;leigh@no_spam.net&gt;"</SPAN><SPAN class=sy0>;</SPAN> &nbsp; &nbsp; &nbsp; 
  &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <SPAN 
  class=co1>// The Recipients name and email address</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=re1>$subject</SPAN> 
  <SPAN class=sy0>=</SPAN> <SPAN class=st0>"Test Email"</SPAN><SPAN 
  class=sy0>;</SPAN> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
  &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
  &nbsp; &nbsp; &nbsp;<SPAN class=co1>// Subject for the email</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=re1>$text</SPAN> <SPAN 
  class=sy0>=</SPAN> <SPAN class=st0>'This is a text message.'</SPAN><SPAN 
  class=sy0>;</SPAN> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
  &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<SPAN 
  class=co1>// Text version of the email</SPAN></DIV></LI>
  <LI class=li2>
  <DIV class=de2>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=re1>$html</SPAN> <SPAN 
  class=sy0>=</SPAN> <SPAN class=st0>'&lt;html&gt;&lt;body&gt;&lt;p&gt;This is a 
  html message&lt;/p&gt;&lt;/body&gt;&lt;/html&gt;'</SPAN><SPAN 
  class=sy0>;</SPAN> &nbsp;<SPAN class=co1>// HTML version of the 
  email</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=re1>$crlf</SPAN> <SPAN 
  class=sy0>=</SPAN> <SPAN class=st0>"<SPAN class=es0>\n</SPAN>"</SPAN><SPAN 
  class=sy0>;</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=re1>$headers</SPAN> 
  <SPAN class=sy0>=</SPAN> <SPAN class=kw3>array</SPAN><SPAN 
  class=br0>(</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
  &nbsp; &nbsp; &nbsp; <SPAN class=st0>'From'</SPAN> &nbsp; &nbsp; &nbsp; &nbsp; 
  &nbsp;<SPAN class=sy0>=&gt;</SPAN> <SPAN class=re1>$sender</SPA &nbsp; &nbsp; <SPAN class=br0>)</SPAN><SPAN 
  class=sy0>;</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp;</DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=co1>// Creating the 
  Mime message</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=re1>$mime</SPAN> <SPAN 
  class=sy0>=</SPAN> <SPAN class=kw2>new</SPAN> Mail_mime<SPAN 
  class=br0>(</SPAN><SPAN class=re1>$crlf</SPAN><SPAN class=br0>)</SPAN><SPAN 
  class=sy0>;</SPAN></DIV></LI>
  <LI class=li2>
  <DIV class=de2>&nbsp;</DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=co1>// Setting the body 
  of the email</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=re1>$mime</SPAN><SPAN 
  class=sy0>-&gt;</SPAN><SPAN class=me1>setTXTBody</SPAN><SPAN 
  class=br0>(</SPAN><SPAN class=re1>$text</SPAN><SPAN class=br0>)</SPAN><SPAN 
  class=sy0>;</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=re1>$mime</SPAN><SPAN 
  class=sy0>-&gt;</SPAN><SPAN class=me1>setHTMLBody</SPAN><SPAN 
  class=br0>(</SPAN><SPAN class=re1>$html</SPAN><SPAN class=br0>)</SPAN><SPAN 
  class=sy0>;</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp;</DIV></LI>
  <LI class=li2>
  <DIV class=de2>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=co1>// Add an 
  attachment</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=re1>$file</SPAN> <SPAN 
  class=sy0>=</SPAN> <SPAN class=st0>"Hello World!"</SPAN><SPAN 
  class=sy0>;</SPAN> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
  &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
  &nbsp;<SPAN class=co1>// Content of the file</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=re1>$file_name</SPAN> 
  <SPAN class=sy0>=</SPAN> <SPAN class=st0>"Hello text.txt"</SPAN><SPAN 
  class=sy0>;</SPAN> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
  &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=co1>// Name of 
  the Attachment</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN 
  class=re1>$content_type</SPAN> <SPAN class=sy0>=</SPAN> <SPAN 
  class=st0>"text/plain"</SPAN><SPAN class=sy0>;</SPAN> &nbsp; &nbsp; &nbsp; 
  &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
  &nbsp; &nbsp;<SPAN class=co1>// Content type of the file</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=re1>$mime</SPAN><SPAN 
  class=sy0>-&gt;</SPAN><SPAN class=me1>addAttachment</SPAN> <SPAN 
  class=br0>(</SPAN><SPAN class=re1>$file</SPAN><SPAN class=sy0>,</SPAN> <SPAN 
  class=re1>$content_type</SPAN><SPAN class=sy0>,</SPAN> <SPAN 
  class=re1>$file_name</SPAN><SPAN class=sy0>,</SPAN> <SPAN 
  class=nu0>0</SPAN><SPAN class=br0>)</SPAN><SPAN class=sy0>;</SPAN> &nbsp;<SPAN 
  class=co1>// Add the attachment to the email</SPAN></DIV></LI>
  <LI class=li2>
  <DIV class=de2>&nbsp;</DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=co1>// Add a second 
  attachment</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=re1>$file</SPAN> <SPAN 
  class=sy0>=</SPAN> <SPAN class=st0>"Hello World! Again&nbsp;:)"</SPAN><SPAN 
  class=sy0>;</SPAN> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
  &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=co1>// Content of the 
  file</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=re1>$file_name</SPAN> 
  <SPAN class=sy0>=</SPAN> <SPAN class=st0>"Hello text 2.txt"</SPAN><SPAN 
  class=sy0>;</SPAN> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
  &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=co1>// Name of the 
  Attachment</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN 
  class=re1>$content_type</SPAN> <SPAN class=sy0>=</SPAN> <SPAN 
  class=st0>"text/plain"</SPAN><SPAN class=sy0>;</SPAN> &nbsp; &nbsp; &nbsp; 
  &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
  &nbsp; &nbsp;<SPAN class=co1>// Content type of the file</SPAN></DIV></LI>
  <LI class=li2>
  <DIV class=de2>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=re1>$mime</SPAN><SPAN 
  class=sy0>-&gt;</SPAN><SPAN class=me1>addAttachment</SPAN> <SPAN 
  class=br0>(</SPAN><SPAN class=re1>$file</SPAN><SPAN class=sy0>,</SPAN> <SPAN 
  class=re1>$content_type</SPAN><SPAN class=sy0>,</SPAN> <SPAN 
  class=re1>$file_name</SPAN><SPAN class=sy0>,</SPAN> <SPAN 
  class=nu0>0</SPAN><SPAN class=br0>)</SPAN><SPAN class=sy0>;</SPAN> &nbsp;<SPAN 
  class=co1>// Add the attachment to the email</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp;</DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=re1>$body</SPAN> <SPAN 
  class=sy0>=</SPAN> <SPAN class=re1>$mime</SPAN><SPAN 
  class=sy0>-&gt;</SPAN><SPAN class=me1>get</SPAN><SPAN class=br0>(</SPAN><SPAN 
  class=br0>)</SPAN><SPAN class=sy0>;</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=re1>$headers</SPAN> 
  <SPAN class=sy0>=</SPAN> <SPAN class=re1>$mime</SPAN><SPAN 
  class=sy0>-&gt;</SPAN><SPAN class=me1>headers</SPAN><SPAN 
  class=br0>(</SPAN><SPAN class=re1>$headers</SPAN><SPAN class=br0>)</SPAN><SPAN 
  class=sy0>;</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp;</DIV></LI>
  <LI class=li2>
  <DIV class=de2>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=co1>// Sending the 
  email</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=re1>$mail</SPAN> <SPAN 
  class=sy0>=&amp;</SPAN> <SPAN class=kw3>Mail</SPAN><SPAN 
  class=sy0>::</SPAN><SPAN class=me2>factory</SPAN><SPAN class=br0>(</SPAN><SPAN 
  class=st0>'mail'</SPAN><SPAN class=br0>)</SPAN><SPAN 
  class=sy0>;</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=re1>$mail</SPAN><SPAN 
  class=sy0>-&gt;</SPAN><SPAN class=me1>send</SPAN><SPAN class=br0>(</SPAN><SPAN 
  class=re1>$recipient</SPAN><SPAN class=sy0>,</SPAN> <SPAN 
  class=re1>$headers</SPAN><SPAN class=sy0>,</SPAN> <SPAN 
  class=re1>$body</SPAN><SPAN class=br0>)</SPAN><SPAN 
  class=sy0>;</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1><SPAN class=kw2>?&gt;</SPAN></DIV></LI></OL></DIV></DIV><A 
name=Adding_an_attachment_from_the_file_system></A>
<H2><SPAN class=mw-headline>Adding an attachment from the file 
system</SPAN></H2>
<P>Adding an attachment from the file system is easy, instead of specifying the 
contents of the file, we enter the path to the file and change the $isFile 
variable. In this example I will attach a PDF called 'example.pdf' which is 
located in the same folder as this script. </P>
<DIV style="TEXT-ALIGN: left" dir=ltr>
<DIV style="FONT-FAMILY: monospace" class=source-php>
<OL>
  <LI class=li1>
  <DIV class=de1><SPAN class=kw2>&lt;?</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=kw1>include</SPAN><SPAN 
  class=br0>(</SPAN><SPAN class=st0>'Mail.php'</SPAN><SPAN 
  class=br0>)</SPAN><SPAN class=sy0>;</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=kw1>include</SPAN><SPAN 
  class=br0>(</SPAN><SPAN class=st0>'Mail/mime.php'</SPAN><SPAN 
  class=br0>)</SPAN><SPAN class=sy0>;</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp;</DIV></LI>
  <LI class=li2>
  <DIV class=de2>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=co1>// Constructing the 
  email</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=re1>$sender</SPAN> 
  <SPAN class=sy0>=</SPAN> <SPAN class=st0>"Leigh 
  &lt;leigh@no_spam.net&gt;"</SPAN><SPAN class=sy0>;</SPAN> &nbsp; &nbsp; &nbsp; 
  &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
  &nbsp;<SPAN class=co1>// Who your name and email address</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=re1>$recipient</SPAN> 
  <SPAN class=sy0>=</SPAN> <SPAN class=st0>"Leigh 
  &lt;leigh@no_spam.net&gt;"</SPAN><SPAN class=sy0>;</SPAN> &nbsp; &nbsp; &nbsp; 
  &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <SPAN 
  class=co1>// The Recipients name and email address</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=re1>$subject</SPAN> 
  <SPAN class=sy0>=</SPAN> <SPAN class=st0>"Test Email"</SPAN><SPAN 
  class=sy0>;</SPAN> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
  &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
  &nbsp; &nbsp; &nbsp;<SPAN class=co1>// Subject for the email</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=re1>$text</SPAN> <SPAN 
  class=sy0>=</SPAN> <SPAN class=st0>'This is a text message.'</SPAN><SPAN 
  class=sy0>;</SPAN> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
  &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<SPAN 
  class=co1>// Text version of the email</SPAN></DIV></LI>
  <LI class=li2>
  <DIV class=de2>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=re1>$html</SPAN> <SPAN 
  class=sy0>=</SPAN> <SPAN class=st0>'&lt;html&gt;&lt;body&gt;&lt;p&gt;This is a 
  html message&lt;/p&gt;&lt;/body&gt;&lt;/html&gt;'</SPAN><SPAN 
  class=sy0>;</SPAN> &nbsp;<SPAN class=co1>// HTML version of the 
  email</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=re1>$crlf</SPAN> <SPAN 
  class=sy0>=</SPAN> <SPAN class=st0>"<SPAN class=es0>\n</SPAN>"</SPAN><SPAN 
  class=sy0>;</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=re1>$headers</SPAN> 
  <SPAN class=sy0>=</SPAN> <SPAN class=kw3>array</SPAN><SPAN 
  class=br0>(</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
  &nbsp; &nbsp; &nbsp; <SPAN class=st0>'From'</SPAN> &nbsp; &nbsp; &nbsp; &nbsp; 
  &nbsp;<SPAN class=sy0>=&gt;</SPAN> <SPAN class=re1>$sender</SPAN><SPAN 
  class=sy0>,</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
  &nbsp; &nbsp; &nbsp; <SPAN class=st0>'Return-Path'</SPAN> &nbsp; <SPAN 
  class=sy0>=&gt;</SPAN> <SPAN class=re1>$sender</SPAN><SPAN 
  class=sy0>,</SPAN></DIV></LI>
  <LI class=li2>
  <DIV class=de2>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
  &nbsp; &nbsp; &nbsp; <SPAN class=st0>'Subject'</SPAN> &nbsp; &nbsp; &nbsp; 
  <SPAN class=sy0>=&gt;</SPAN> <SPAN class=re1>$subject</SPAN> </DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
  &nbsp; &nbsp; &nbsp; <SPAN class=br0>)</SPAN><SPAN 
  class=sy0>;</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp;</DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=co1>// Creating the 
  Mime message</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=re1>$mime</SPAN> <SPAN 
  class=sy0>=</SPAN> <SPAN class=kw2>new</SPAN> Mail_mime<SPAN 
  class=br0>(</SPAN><SPAN class=re1>$crlf</SPAN><SPAN class=br0>)</SPAN><SPAN 
  class=sy0>;</SPAN></DIV></LI>
  <LI class=li2>
  <DIV class=de2>&nbsp;</DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=co1>// Setting the body 
  of the email</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=re1>$mime</SPAN><SPAN 
  class=sy0>-&gt;</SPAN><SPAN class=me1>setTXTBody</SPAN><SPAN 
  class=br0>(</SPAN><SPAN class=re1>$text</SPAN><SPAN class=br0>)</SPAN><SPAN 
  class=sy0>;</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=re1>$mime</SPAN><SPAN 
  class=sy0>-&gt;</SPAN><SPAN class=me1>setHTMLBody</SPAN><SPAN 
  class=br0>(</SPAN><SPAN class=re1>$html</SPAN><SPAN class=br0>)</SPAN><SPAN 
  class=sy0>;</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp;</DIV></LI>
  <LI class=li2>
  <DIV class=de2>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=co1>// Add an 
  attachment</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=re1>$file</SPAN> <SPAN 
  class=sy0>=</SPAN> <SPAN class=st0>"example.pdf"</SPAN><SPAN 
  class=sy0>;</SPAN> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
  &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
  <SPAN class=co1>// Content of the file</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=re1>$file_name</SPAN> 
  <SPAN class=sy0>=</SPAN> <SPAN class=st0>"example.pdf"</SPAN><SPAN 
  class=sy0>;</SPAN> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
  &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<SPAN 
  class=co1>// Name of the Attachment</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN 
  class=re1>$content_type</SPAN> <SPAN class=sy0>=</SPAN> <SPAN 
  class=st0>"Application/pdf"</SPAN><SPAN class=sy0>;</SPAN> &nbsp; &nbsp; 
  &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
  <SPAN class=co1>// Content type of the file</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=re1>$mime</SPAN><SPAN 
  class=sy0>-&gt;</SPAN><SPAN class=me1>addAttachment</SPAN> <SPAN 
  class=br0>(</SPAN><SPAN class=re1>$file</SPAN><SPAN class=sy0>,</SPAN> <SPAN 
  class=re1>$content_type</SPAN><SPAN class=sy0>,</SPAN> <SPAN 
  class=re1>$file_name</SPAN><SPAN class=sy0>,</SPAN> <SPAN 
  class=nu0>1</SPAN><SPAN class=br0>)</SPAN><SPAN class=sy0>;</SPAN> &nbsp;<SPAN 
  class=co1>// Add the attachment to the email</SPAN></DIV></LI>
  <LI class=li2>
  <DIV class=de2>&nbsp;</DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=re1>$body</SPAN> <SPAN 
  class=sy0>=</SPAN> <SPAN class=re1>$mime</SPAN><SPAN 
  class=sy0>-&gt;</SPAN><SPAN class=me1>get</SPAN><SPAN class=br0>(</SPAN><SPAN 
  class=br0>)</SPAN><SPAN class=sy0>;</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=re1>$headers</SPAN> 
  <SPAN class=sy0>=</SPAN> <SPAN class=re1>$mime</SPAN><SPAN 
  class=sy0>-&gt;</SPAN><SPAN class=me1>headers</SPAN><SPAN 
  class=br0>(</SPAN><SPAN class=re1>$headers</SPAN><SPAN class=br0>)</SPAN><SPAN 
  class=sy0>;</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp;</DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=co1>// Sending the 
  email</SPAN></DIV></LI>
  <LI class=li2>
  <DIV class=de2>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=re1>$mail</SPAN> <SPAN 
  class=sy0>=&amp;</SPAN> <SPAN class=kw3>Mail</SPAN><SPAN 
  class=sy0>::</SPAN><SPAN class=me2>factory</SPAN><SPAN class=br0>(</SPAN><SPAN 
  class=st0>'mail'</SPAN><SPAN class=br0>)</SPAN><SPAN 
  class=sy0>;</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=re1>$mail</SPAN><SPAN 
  class=sy0>-&gt;</SPAN><SPAN class=me1>send</SPAN><SPAN class=br0>(</SPAN><SPAN 
  class=re1>$recipient</SPAN><SPAN class=sy0>,</SPAN> <SPAN 
  class=re1>$headers</SPAN><SPAN class=sy0>,</SPAN> <SPAN 
  class=re1>$body</SPAN><SPAN class=br0>)</SPAN><SPAN 
  class=sy0>;</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1><SPAN class=kw2>?&gt;</SPAN></DIV></LI></OL></DIV></DIV>
<P>Notice specifically in this example that I kept the file name in the email 
the same as the original, although I could just as easily change it. 
Additionally the the last variable in the method addAttachment was 1, this is to 
tell it that $file is the path to the file. </P>
<P><BR></P><A name=Sending_to_multiple_recipients></A>
<H1><SPAN class=mw-headline>Sending to multiple recipients</SPAN></H1>
<P>The Pear mail package can accept an array of recipients or a list of comma 
separated email addresses. In this example we will use an array called 
$recipients. </P>
<P>For the best performance sending to multiple recipients we should use SMTP as 
it only has to connect to the SMTP server once. </P>
<DIV style="TEXT-ALIGN: left" dir=ltr>
<DIV style="FONT-FAMILY: monospace" class=source-php>
<OL>
  <LI class=li1>
  <DIV class=de1><SPAN class=kw2>&lt;?</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=kw1>include</SPAN><SPAN 
  class=br0>(</SPAN><SPAN class=st0>'Mail.php'</SPAN><SPAN 
  class=br0>)</SPAN><SPAN class=sy0>;</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=kw1>include</SPAN><SPAN 
  class=br0>(</SPAN><SPAN class=st0>'Mail/mime.php'</SPAN><SPAN 
  class=br0>)</SPAN><SPAN class=sy0>;</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp;</DIV></LI>
  <LI class=li2>
  <DIV class=de2>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=co1>// Constructing the 
  email</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=re1>$sender</SPAN> 
  <SPAN class=sy0>=</SPAN> <SPAN class=st0>"Leigh 
  &lt;leigh@no_spam.net&gt;"</SPAN><SPAN class=sy0>;</SPAN> &nbsp; &nbsp; &nbsp; 
  &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
  &nbsp;<SPAN class=co1>// Who your name and email address</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=re1>$recipients</SPAN> 
  <SPAN class=sy0>=</SPAN> <SPAN class=kw3>array</SPAN><SPAN 
  class=br0>(</SPAN><SPAN class=br0>)</SPAN><SPAN class=sy0>;</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN 
  class=re1>$recipients</SPAN><SPAN class=br0>[</SPAN><SPAN class=br0>]</SPAN> 
  <SPAN class=sy0>=</SPAN> <SPAN class=st0>"Leigh account 1 
  &lt;leigh_1@no_spam.net&gt;"</SPAN><SPAN class=sy0>;</SPAN> &nbsp; &nbsp; 
  &nbsp; &nbsp; &nbsp; &nbsp;<SPAN class=co1>// Recipient name and email 
  address</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN 
  class=re1>$recipients</SPAN><SPAN class=br0>[</SPAN><SPAN class=br0>]</SPAN> 
  <SPAN class=sy0>=</SPAN> <SPAN class=st0>"Leigh account 2 
  &lt;leigh_2@no_spam.net&gt;"</SPAN><SPAN class=sy0>;</SPAN> &nbsp; &nbsp; 
  &nbsp; &nbsp; &nbsp; &nbsp;<SPAN class=co1>// Recipient name and email 
  address</SPAN></DIV></LI>
  <LI class=li2>
  <DIV class=de2>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=re1>$subject</SPAN> 
  <SPAN class=sy0>=</SPAN> <SPAN class=st0>"Test Email"</SPAN><SPAN 
  class=sy0>;</SPAN> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
  &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
  &nbsp; &nbsp; &nbsp;<SPAN class=co1>// Subject for the email</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=re1>$text</SPAN> <SPAN 
  class=sy0>=</SPAN> <SPAN class=st0>'This is a text message.'</SPAN><SPAN 
  class=sy0>;</SPAN> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
  &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<SPAN 
  class=co1>// Text version of the email</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=re1>$html</SPAN> <SPAN 
  class=sy0>=</SPAN> <SPAN class=st0>'&lt;html&gt;&lt;body&gt;&lt;p&gt;This is a 
  html message&lt;/p&gt;&lt;/body&gt;&lt;/html&gt;'</SPAN><SPAN 
  class=sy0>;</SPAN> &nbsp;<SPAN class=co1>// HTML version of the 
  email</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=re1>$crlf</SPAN> <SPAN 
  class=sy0>=</SPAN> <SPAN class=st0>"<SPAN class=es0>\n</SPAN>"</SPAN><SPAN 
  class=sy0>;</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=re1>$headers</SPAN> 
  <SPAN class=sy0>=</SPAN> <SPAN class=kw3>array</SPAN><SPAN 
  class=br0>(</SPAN></DIV></LI>
  <LI class=li2>
  <DIV class=de2>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
  &nbsp; &nbsp; &nbsp; <SPAN class=st0>'From'</SPAN> &nbsp; &nbsp; &nbsp; &nbsp; 
  &nbsp;<SPAN class=sy0>=&gt;</SPAN> <SPAN class=re1>$sender</SPAN><SPAN 
  class=sy0>,</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
  &nbsp; &nbsp; &nbsp; <SPAN class=st0>'Return-Path'</SPAN> &nbsp; <SPAN 
  class=sy0>=&gt;</SPAN> <SPAN class=re1>$sender</SPAN><SPAN 
  class=sy0>,</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
  &nbsp; &nbsp; &nbsp; <SPAN class=st0>'Subject'</SPAN> &nbsp; &nbsp; &nbsp; 
  <SPAN class=sy0>=&gt;</SPAN> <SPAN class=re1>$subject</SPAN> </DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
  &nbsp; &nbsp; &nbsp; <SPAN class=br0>)</SPAN><SPAN 
  class=sy0>;</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp;</DIV></LI>
  <LI class=li2>
  <DIV class=de2>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=co1>// Creating the 
  Mime message</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=re1>$mime</SPAN> <SPAN 
  class=sy0>=</SPAN> <SPAN class=kw2>new</SPAN> Mail_mime<SPAN 
  class=br0>(</SPAN><SPAN class=re1>$crlf</SPAN><SPAN class=br0>)</SPAN><SPAN 
  class=sy0>;</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp;</DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=co1>// Setting the body 
  of the email</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=re1>$mime</SPAN><SPAN 
  class=sy0>-&gt;</SPAN><SPAN class=me1>setTXTBody</SPAN><SPAN 
  class=br0>(</SPAN><SPAN class=re1>$text</SPAN><SPAN class=br0>)</SPAN><SPAN 
  class=sy0>;</SPAN></DIV></LI>
  <LI class=li2>
  <DIV class=de2>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=re1>$mime</SPAN><SPAN 
  class=sy0>-&gt;</SPAN><SPAN class=me1>setHTMLBody</SPAN><SPAN 
  class=br0>(</SPAN><SPAN class=re1>$html</SPAN><SPAN class=br0>)</SPAN><SPAN 
  class=sy0>;</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp;</DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=re1>$body</SPAN> <SPAN 
  class=sy0>=</SPAN> <SPAN class=re1>$mime</SPAN><SPAN 
  class=sy0>-&gt;</SPAN><SPAN class=me1>get</SPAN><SPAN class=br0>(</SPAN><SPAN 
  class=br0>)</SPAN><SPAN class=sy0>;</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=re1>$headers</SPAN> 
  <SPAN class=sy0>=</SPAN> <SPAN class=re1>$mime</SPAN><SPAN 
  class=sy0>-&gt;</SPAN><SPAN class=me1>headers</SPAN><SPAN 
  class=br0>(</SPAN><SPAN class=re1>$headers</SPAN><SPAN class=br0>)</SPAN><SPAN 
  class=sy0>;</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp;</DIV></LI>
  <LI class=li2>
  <DIV class=de2>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=co1>// Sending the 
  email</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=re1>$mail</SPAN> <SPAN 
  class=sy0>=&amp;</SPAN> <SPAN class=kw3>Mail</SPAN><SPAN 
  class=sy0>::</SPAN><SPAN class=me2>factory</SPAN><SPAN class=br0>(</SPAN><SPAN 
  class=st0>'mail'</SPAN><SPAN class=br0>)</SPAN><SPAN 
  class=sy0>;</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=re1>$mail</SPAN><SPAN 
  class=sy0>-&gt;</SPAN><SPAN class=me1>send</SPAN><SPAN class=br0>(</SPAN><SPAN 
  class=re1>$recipients</SPAN><SPAN class=sy0>,</SPAN> <SPAN 
  class=re1>$headers</SPAN><SPAN class=sy0>,</SPAN> <SPAN 
  class=re1>$body</SPAN><SPAN class=br0>)</SPAN><SPAN 
  class=sy0>;</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1><SPAN class=kw2>?&gt;</SPAN></DIV></LI></OL></DIV></DIV><A 
name=Sending_using_SMTP></A>
<H1><SPAN class=mw-headline>Sending using SMTP</SPAN></H1>
<P>This example shows how to send an email using SMTP instead of the built in 
PHP mail() function. This is useful if you want to send using a remote server. 
</P>
<DIV style="TEXT-ALIGN: left" dir=ltr>
<DIV style="FONT-FAMILY: monospace" class=source-php>
<OL>
  <LI class=li1>
  <DIV class=de1><SPAN class=kw2>&lt;?</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=kw1>include</SPAN><SPAN 
  class=br0>(</SPAN><SPAN class=st0>'Mail.php'</SPAN><SPAN 
  class=br0>)</SPAN><SPAN class=sy0>;</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=kw1>include</SPAN><SPAN 
  class=br0>(</SPAN><SPAN class=st0>'Mail/mime.php'</SPAN><SPAN 
  class=br0>)</SPAN><SPAN class=sy0>;</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp;</DIV></LI>
  <LI class=li2>
  <DIV class=de2>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=co1>// Constructing the 
  email</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=re1>$sender</SPAN> 
  <SPAN class=sy0>=</SPAN> <SPAN class=st0>"Leigh 
  &lt;leigh@no_spam.net&gt;"</SPAN><SPAN class=sy0>;</SPAN> &nbsp; &nbsp; &nbsp; 
  &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
  &nbsp; &nbsp; &nbsp;<SPAN class=co1>// Your name and email 
  address</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=re1>$recipient</SPAN> 
  <SPAN class=sy0>=</SPAN> <SPAN class=st0>"Leigh 
  &lt;leigh@no_spam.net&gt;"</SPAN><SPAN class=sy0>;</SPAN> &nbsp; &nbsp; &nbsp; 
  &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
  &nbsp; <SPAN class=co1>// The Recipients name and email 
  address</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=re1>$subject</SPAN> 
  <SPAN class=sy0>=</SPAN> <SPAN class=st0>"Test Email"</SPAN><SPAN 
  class=sy0>;</SPAN> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
  &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
  &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<SPAN class=co1>// Subject for the 
  email</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=re1>$text</SPAN> <SPAN 
  class=sy0>=</SPAN> <SPAN class=st0>'This is a text message.'</SPAN><SPAN 
  class=sy0>;</SPAN> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
  &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
  &nbsp;<SPAN class=co1>// Text version of the email</SPAN></DIV></LI>
  <LI class=li2>
  <DIV class=de2>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=re1>$html</SPAN> <SPAN 
  class=sy0>=</SPAN> <SPAN class=st0>'&lt;html&gt;&lt;body&gt;&lt;p&gt;This is a 
  html message&lt;/p&gt;&lt;/body&gt;&lt;/html&gt;'</SPAN><SPAN 
  class=sy0>;</SPAN> &nbsp; &nbsp; &nbsp;<SPAN class=co1>// HTML version of the 
  email</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=re1>$crlf</SPAN> <SPAN 
  class=sy0>=</SPAN> <SPAN class=st0>"<SPAN class=es0>\n</SPAN>"</SPAN><SPAN 
  class=sy0>;</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=re1>$headers</SPAN> 
  <SPAN class=sy0>=</SPAN> <SPAN class=kw3>array</SPAN><SPAN 
  class=br0>(</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
  &nbsp; &nbsp; &nbsp; <SPAN class=st0>'From'</SPAN> &nbsp; &nbsp; &nbsp; &nbsp; 
  &nbsp;<SPAN class=sy0>=&gt;</SPAN> <SPAN class=re1>$sender</SPAN><SPAN 
  class=sy0>,</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
  &nbsp; &nbsp; &nbsp; <SPAN class=st0>'Return-Path'</SPAN> &nbsp; <SPAN 
  class=sy0>=&gt;</SPAN> <SPAN class=re1>$sender</SPAN><SPAN 
  class=sy0>,</SPAN></DIV></LI>
  <LI class=li2>
  <DIV class=de2>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
  &nbsp; &nbsp; &nbsp; <SPAN class=st0>'Subject'</SPAN> &nbsp; &nbsp; &nbsp; 
  <SPAN class=sy0>=&gt;</SPAN> <SPAN class=re1>$subject</SPAN> </DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
  &nbsp; &nbsp; &nbsp; <SPAN class=br0>)</SPAN><SPAN 
  class=sy0>;</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp;</DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=co1>// Creating the 
  Mime message</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=re1>$mime</SPAN> <SPAN 
  class=sy0>=</SPAN> <SPAN class=kw2>new</SPAN> Mail_mime<SPAN 
  class=br0>(</SPAN><SPAN class=re1>$crlf</SPAN><SPAN class=br0>)</SPAN><SPAN 
  class=sy0>;</SPAN></DIV></LI>
  <LI class=li2>
  <DIV class=de2>&nbsp;</DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=co1>// Setting the body 
  of the email</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=re1>$mime</SPAN><SPAN 
  class=sy0>-&gt;</SPAN><SPAN class=me1>setTXTBody</SPAN><SPAN 
  class=br0>(</SPAN><SPAN class=re1>$text</SPAN><SPAN class=br0>)</SPAN><SPAN 
  class=sy0>;</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=re1>$mime</SPAN><SPAN 
  class=sy0>-&gt;</SPAN><SPAN class=me1>setHTMLBody</SPAN><SPAN 
  class=br0>(</SPAN><SPAN class=re1>$html</SPAN><SPAN class=br0>)</SPAN><SPAN 
  class=sy0>;</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp;</DIV></LI>
  <LI class=li2>
  <DIV class=de2>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=co1>// Add an 
  attachment</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=re1>$file</SPAN> <SPAN 
  class=sy0>=</SPAN> <SPAN class=st0>"Hello World!"</SPAN><SPAN 
  class=sy0>;</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=re1>$file_name</SPAN> 
  <SPAN class=sy0>=</SPAN> <SPAN class=st0>"Hello text.txt"</SPAN><SPAN 
  class=sy0>;</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN 
  class=re1>$content_type</SPAN> <SPAN class=sy0>=</SPAN> <SPAN 
  class=st0>"text/plain"</SPAN><SPAN class=sy0>;</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=re1>$mime</SPAN><SPAN 
  class=sy0>-&gt;</SPAN><SPAN class=me1>addAttachment</SPAN> <SPAN 
  class=br0>(</SPAN><SPAN class=re1>$file</SPAN><SPAN class=sy0>,</SPAN> <SPAN 
  class=re1>$content_type</SPAN><SPAN class=sy0>,</SPAN> <SPAN 
  class=re1>$file_name</SPAN><SPAN class=sy0>,</SPAN> <SPAN 
  class=nu0>0</SPAN><SPAN class=br0>)</SPAN><SPAN class=sy0>;</SPAN></DIV></LI>
  <LI class=li2>
  <DIV class=de2>&nbsp;</DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=co1>// Set body and 
  headers ready for base mail class </SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=re1>$body</SPAN> <SPAN 
  class=sy0>=</SPAN> <SPAN class=re1>$mime</SPAN><SPAN 
  class=sy0>-&gt;</SPAN><SPAN class=me1>get</SPAN><SPAN class=br0>(</SPAN><SPAN 
  class=br0>)</SPAN><SPAN class=sy0>;</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=re1>$headers</SPAN> 
  <SPAN class=sy0>=</SPAN> <SPAN class=re1>$mime</SPAN><SPAN 
  class=sy0>-&gt;</SPAN><SPAN class=me1>headers</SPAN><SPAN 
  class=br0>(</SPAN><SPAN class=re1>$headers</SPAN><SPAN class=br0>)</SPAN><SPAN 
  class=sy0>;</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp;</DIV></LI>
  <LI class=li2>
  <DIV class=de2>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=co1>// SMTP 
  params</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN 
  class=re1>$smtp_params</SPAN><SPAN class=br0>[</SPAN><SPAN 
  class=st0>"host"</SPAN><SPAN class=br0>]</SPAN> <SPAN class=sy0>=</SPAN> <SPAN 
  class=st0>"smtp.example.com"</SPAN><SPAN class=sy0>;</SPAN> <SPAN class=co1>// 
  SMTP host</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN 
  class=re1>$smtp_params</SPAN><SPAN class=br0>[</SPAN><SPAN 
  class=st0>"port"</SPAN><SPAN class=br0>]</SPAN> <SPAN class=sy0>=</SPAN> <SPAN 
  class=st0ss=sy0>,</SPAN> <SPAN 
  class=re1>$smtp_params</SPAN><SPAN class=br0>)</SPAN><SPAN class=sy0>;</SPAN> 
  </DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=re1>$result</SPAN> 
  <SPAN class=sy0>=</SPAN> <SPAN class=re1>$mail</SPAN><SPAN 
  class=sy0>-&gt;</SPAN><SPAN class=me1>send</SPAN><SPAN class=br0>(</SPAN><SPAN 
  class=re1>$recipient</SPAN><SPAN class=sy0>,</SPAN> <SPAN 
  class=re1>$headers</SPAN><SPAN class=sy0>,</SPAN> <SPAN 
  class=re1>$body</SPAN><SPAN class=br0>)</SPAN><SPAN 
  class=sy0>;</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=kw1>if</SPAN><SPAN 
  class=br0>(</SPAN><SPAN class=re1>$result</SPAN> <SPAN class=sy0>===</SPAN> 
  <SPAN class=nu0>1</SPAN><SPAN class=br0>)</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=br0>{</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <SPAN 
  class=kw3>echo</SPAN><SPAN class=br0>(</SPAN><SPAN class=st0>"Your message has 
  been sent!"</SPAN><SPAN class=br0>)</SPAN><SPAN class=sy0>;</SPAN></DIV></LI>
  <LI class=li2>
  <DIV class=de2>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=br0>}</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN 
  class=kw1>else</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=br0>{</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <SPAN 
  class=kw3>echo</SPAN><SPAN class=br0>(</SPAN><SPAN class=st0>"Your message was 
  not sent: "</SPAN> <SPAN class=sy0>.</SPAN> <SPAN 
  class=re1>$result</SPAN><SPAN class=br0>)</SPAN><SPAN 
  class=sy0>;</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=br0>}</SPAN></DIV></LI>
  <LI class=li2>
  <DIV class=de2><SPAN class=kw2>?&gt;</SPAN></DIV></LI></OL></DIV></DIV><A 
name=Sending_using_authenticated_SMTP></A>
<H1><SPAN class=mw-headline>Sending using authenticated SMTP</SPAN></H1>
<P>This example shows how to send an email using SMTP authentication. This 
particular example uses gmail to send. Gmails requirements for sending via SMTP 
are SMTP authentication with TLS. Fortunately, when we use authentication with 
Pear Mail, the connection is automatically TLS. </P>
<P>The difference between This example, and the previous example just using SMTP 
is the addition of the following SMTP parameters. </P><PRE>$smtp_params["auth"]     = true;
$smtp_params["username"] = "user@gmail.com";
$smtp_params["password"] = "pass";
</PRE>
<DIV style="TEXT-ALIGN: left" dir=ltr>
<DIV style="FONT-FAMILY: monospace" class=source-php>
<OL>
  <LI class=li1>
  <DIV class=de1><SPAN class=kw2>&lt;?</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=kw1>include</SPAN><SPAN 
  class=br0>(</SPAN><SPAN class=st0>'Mail.php'</SPAN><SPAN 
  class=br0>)</SPAN><SPAN class=sy0>;</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=kw1>include</SPAN><SPAN 
  class=br0>(</SPAN><SPAN class=st0>'Mail/mime.php'</SPAN><SPAN 
  class=br0>)</SPAN><SPAN class=sy0>;</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp;</DIV></LI>
  <LI class=li2>
  <DIV class=de2>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=co1>// Constructing the 
  email</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=re1>$sender</SPAN> 
  <SPAN class=sy0>=</SPAN> <SPAN class=st0>"user@gmail.com"</SPAN><SPAN 
  class=sy0>;</SPAN> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
  &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
  &nbsp; &nbsp; &nbsp; <SPAN class=co1>// Your email address</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=re1>$recipient</SPAN> 
  <SPAN class=sy0>=</SPAN> <SPAN class=st0>"Leigh 
  &lt;leigh@no_spam.net&gt;"</SPAN><SPAN class=sy0>;</SPAN> &nbsp; &nbsp; &nbsp; 
  &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
  &nbsp; <SPAN class=co1>// The Recipients name and email 
  address</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=re1>$subject</SPAN> 
  <SPAN class=sy0>=</SPAN> <SPAN class=st0>"Test Email"</SPAN><SPAN 
  class=sy0>;</SPAN> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
  &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
  &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<SPAN class=co1>// Subject for the 
  email</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=re1>$text</SPAN> <SPAN 
  class=sy0>=</SPAN> <SPAN class=st0>'This is a text message.'</SPAN><SPAN 
  class=sy0>;</SPAN> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
  &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
  &nbsp;<SPAN class=co1>// Text version of the email</SPAN></DIV></LI>
  <LI class=li2>
  <DIV class=de2>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=re1>$html</SPAN> <SPAN 
  class=sy0>=</SPAN> <SPAN class=st0>'&lt;html&gt;&lt;body&gt;&lt;p&gt;This is a 
  html message&lt;/p&gt;&lt;/body&gt;&lt;/html&gt;'</SPAN><SPAN 
  class=sy0>;</SPAN> &nbsp; &nbsp; &nbsp;<SPAN class=co1>// HTML version of the 
  email</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=re1>$crlf</SPAN> <SPAN 
  class=sy0>=</SPAN> <SPAN class=st0>"<SPAN class=es0>\n</SPAN>"</SPAN><SPAN 
  class=sy0>;</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=re1>$headers</SPAN> 
  <SPAN class=sy0>=</SPAN> <SPAN class=kw3>array</SPAN><SPAN 
  class=br0>(</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
  &nbsp; &nbsp; &nbsp; <SPAN class=st0>'From'</SPAN> &nbsp; &nbsp; &nbsp; &nbsp; 
  &nbsp;<SPAN class=sy0>=&gt;</SPAN> <SPAN class=re1>$sender</SPAN><SPAN 
  class=sy0>,</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
  &nbsp; &nbsp; &nbsp; <SPAN class=st0>'Return-Path'</SPAN> &nbsp; <SPAN 
  class=sy0>=&gt;</SPAN> <SPAN class=re1>$sender</SPAN><SPAN 
  class=sy0>,</SPAN></DIV></LI>
  <LI class=li2>
  <DIV class=de2>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
  &nbsp; &nbsp; &nbsp; <SPAN class=st0>'Subject'</SPAN> &nbsp; &nbsp; &nbsp; 
  <SPAN class=sy0>=&gt;</SPAN> <SPAN class=re1>$subject</SPAN> </DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
  &nbsp; &nbsp; &nbsp; <SPAN class=br0>)</SPAN><SPAN 
  class=sy0>;</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp;</DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=co1>// Creating the 
  Mime message</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=re1>$mime</SPAN> <SPAN 
  class=sy0>=</SPAN> <SPAN class=kw2>new</SPAN> Mail_mime<SPAN 
  class=br0>(</SPAN><SPAN class=re1>$crlf</SPAN><SPAN class=br0>)</SPAN><SPAN 
  class=sy0>;</SPAN></DIV></LI>
  <LI class=li2>
  <DIV class=de2>&nbsp;</DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=co1>// Setting the body 
  of the email</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=re1>$mime</SPAN><SPAN 
  class=sy0>-&gt;</SPAN><SPAN class=me1>setTXTBody</SPAN><SPAN 
  class=br0>(</SPAN><SPAN class=re1>$text</SPAN><SPAN class=br0>)</SPAN><SPAN 
  class=sy0>;</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=re1>$mime</SPAN><SPAN 
  class=sy0>-&gt;</SPAN><SPAN class=me1>setHTMLBody</SPAN><SPAN 
  class=br0>(</SPAN><SPAN class=re1>$html</SPAN><SPAN class=br0>)</SPAN><SPAN 
  class=sy0>;</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp;</DIV></LI>
  <LI class=li2>
  <DIV class=de2>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=co1>// Add an 
  attachment</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=re1>$file</SPAN> <SPAN 
  class=sy0>=</SPAN> <SPAN class=st0>"Hello World!"</SPAN><SPAN 
  class=sy0>;</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=re1>$file_name</SPAN> 
  <SPAN class=sy0>=</SPAN> <SPAN class=st0>"Hello text.txt"</SPAN><SPAN 
  class=sy0>;</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN 
  class=re1>$content_type</SPAN> <SPAN class=sy0>=</SPAN> <SPAN 
  class=st0>"text/plain"</SPAN><SPAN class=sy0>;</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=re1>$mime</SPAN><SPAN 
  class=sy0>-&gt;</SPAN><SPAN class=me1>addAttachment</SPAN> <SPAN 
  class=br0>(</SPAN><SPAN class=re1>$file</SPAN><SPAN class=sy0>,</SPAN> <SPAN 
  class=re1>$content_type</SPAN><SPAN class=sy0>,</SPAN> <SPAN 
  class=re1>$file_name</SPAN><SPAN class=sy0>,</SPAN> <SPAN 
  class=nu0>0</SPAN><SPAN class=br0>)</SPAN><SPAN class=sy0>;</SPAN></DIV></LI>
  <LI class=li2>
  <DIV class=de2>&nbsp;</DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=co1>// Set body and 
  headers ready for base mail class </SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=re1>$body</SPAN> <SPAN 
  class=sy0>=</SPAN> <SPAN class=re1>$mime</SPAN><SPAN 
  class=sy0>-&gt;</SPAN><SPAN class=me1>get</SPAN><SPAN class=br0>(</SPAN><SPAN 
  class=br0>)</SPAN><SPAN class=sy0>;</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=re1>$headers</SPAN> 
  <SPAN class=sy0>=</SPAN> <SPAN class=re1>$mime</SPAN><SPAN 
  class=sy0>-&gt;</SPAN><SPAN class=me1>headers</SPAN><SPAN 
  class=br0>(</SPAN><SPAN class=re1>$headers</SPAN><SPAN class=br0>)</SPAN><SPAN 
  class=sy0>;</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp;</DIV></LI>
  <LI class=li2>
  <DIV class=de2>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=co1>// SMTP 
  authentication params</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN 
  class=re1>$smtp_params</SPAN><SPAN class=br0>[</SPAN><SPAN 
  class=st0>"host"</SPAN><SPAN class=br0>]</SPAN> &nbsp; &nbsp; <SPAN 
  class=sy0>=</SPAN> <SPAN class=st0>"smtp.gmail.com"</SPAN><SPAN 
  class=sy0>;</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN 
  class=re1>$smtp_params</SPAN><SPAN class=br0>[</SPAN><SPAN 
  class=st0>"port"</SPAN><SPAN class=br0>]</SPAN> &nbsp; &nbsp; <SPAN 
  class=sy0>=</SPAN> <SPAN class=st0>"25"</SPAN><SPAN 
  class=sy0>;</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN 
  class=re1>$smtp_params</SPAN><SPAN class=br0>[</SPAN><SPAN 
  class=st0>"auth"</SPAN><SPAN class=br0>]</SPAN> &nbsp; &nbsp; <SPAN 
  class=sy0>=</SPAN> <SPAN class=kw2>true</SPAN><SPAN 
  class=sy0>;</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN 
  class=re1>$smtp_params</SPAN><SPAN class=br0>[</SPAN><SPAN 
  class=st0>"username"</SPAN><SPAN class=br0>]</SPAN> <SPAN class=sy0>=</SPAN> 
  <SPAN class=st0>"user@gmail.com"</SPAN><SPAN class=sy0>;</SPAN></DIV></LI>
  <LI class=li2>
  <DIV class=de2>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN 
  class=re1>$smtp_params</SPAN><SPAN class=br0>[</SPAN><SPAN 
  class=st0>"password"</SPAN><SPAN class=br0>]</SPAN> <SPAN class=sy0>=</SPAN> 
  <SPAN class=st0>"pass"</SPAN><SPAN class=sy0>;</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp;</DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=co1>// Sending the 
  email using smtp</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=re1>$mail</SPAN> <SPAN 
  class=sy0>=&amp;</SPAN> <SPAN class=kw3>Mail</SPAN><SPAN 
  class=sy0>::</SPAN><SPAN class=me2>factory</SPAN><SPAN class=br0>(</SPAN><SPAN 
  class=st0>"smtp"</SPAN><SPAN class=sy0>,</SPAN> <SPAN 
  class=re1>$smtp_params</SPAN><SPAN class=br0>)</SPAN><SPAN class=sy0>;</SPAN> 
  </DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=re1>$result</SPAN> 
  <SPAN class=sy0>=</SPAN> <SPAN class=re1>$mail</SPAN><SPAN 
  class=sy0>-&gt;</SPAN><SPAN class=me1>send</SPAN><SPAN class=br0>(</SPAN><SPAN 
  class=re1>$recipient</SPAN><SPAN class=sy0>,</SPAN> <SPAN 
  class=re1>$headers</SPAN><SPAN class=sy0>,</SPAN> <SPAN 
  class=re1>$body</SPAN><SPAN class=br0>)</SPAN><SPAN 
  class=sy0>;</SPAN></DIV></LI>
  <LI class=li2>
  <DIV class=de2>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=kw1>if</SPAN><SPAN 
  class=br0>(</SPAN><SPAN class=re1>$result</SPAN> <SPAN class=sy0>===</SPAN> 
  <SPAN class=nu0>1</SPAN><SPAN class=br0>)</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=br0>{</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <SPAN 
  class=kw3>echo</SPAN><SPAN class=br0>(</SPAN><SPAN class=st0>"Your message has 
  been sent!"</SPAN><SPAN class=br0>)</SPAN><SPAN class=sy0>;</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=br0>}</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN 
  class=kw1>else</SPAN></DIV></LI>
  <LI class=li2>
  <DIV class=de2>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=br0>{</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <SPAN 
  class=kw3>echo</SPAN><SPAN class=br0>(</SPAN><SPAN class=st0>"Your message was 
  not sent: "</SPAN> <SPAN class=sy0>.</SPAN> <SPAN 
  class=re1>$result</SPAN><SPAN class=br0>)</SPAN><SPAN 
  class=sy0>;</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; &nbsp; &nbsp; <SPAN class=br0>}</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1><SPAN class=kw2>?&gt;</SPAN></DIV></LI></OL></DIV></DIV><A 
name=Security></A>
<H1><SPAN class=mw-headline>Security</SPAN></H1>
<P>One of the major concerns of people sending automated emails using PHP is 
header injection. Mail header injection is the process of inserting additional 
fields into the mail headers such as extra "bcc" and "to" fields. This can be 
used by spammers to utilize your server to send spam and consequently having 
your server blacklisted by real time blacklists. </P>
<P>Pear mail automatically sanitizes the headers you pass to it so that we don't 
have to worry about it. The following code is what is used to sanitize the 
headers. </P>
<DIV style="TEXT-ALIGN: left" dir=ltr>
<DIV style="FONT-FAMILY: monospace" class=source-php>
<OL>
  <LI class=li1>
  <DIV class=de1><SPAN class=coMULTI>/**</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1><SPAN class=coMULTI>&nbsp;* Sanitize an array of mail headers 
  by removing any additional header</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1><SPAN class=coMULTI>&nbsp;* strings present in a legitimate 
  header's value. &nbsp;The goal of this</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1><SPAN class=coMULTI>&nbsp;* filter is to prevent mail injection 
  attacks.</SPAN></DIV></LI>
  <LI class=li2>
  <DIV class=de2><SPAN class=coMULTI>&nbsp;*</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1><SPAN class=coMULTI>&nbsp;* @param array $headers The 
  associative array of headers to sanitize.</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1><SPAN class=coMULTI>&nbsp;*</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1><SPAN class=coMULTI>&nbsp;* @access private</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1><SPAN class=coMULTI>&nbsp;*/</SPAN></DIV></LI>
  <LI class=li2>
  <DIV class=de2><SPAN class=kw2>function</SPAN> _sanitizeHeaders<SPAN 
  class=br0>(</SPAN><SPAN class=sy0>&amp;</SPAN><SPAN 
  class=re1>$headers</SPAN><SPAN class=br0>)</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1><SPAN class=br0>{</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; <SPAN class=kw1>foreach</SPAN> <SPAN 
  class=br0>(</SPAN><SPAN class=re1>$headers</SPAN> <SPAN class=kw1>as</SPAN> 
  <SPAN class=re1>$key</SPAN> <SPAN class=sy0>=&gt;</SPAN> <SPAN 
  class=re1>$value</SPAN><SPAN class=br0>)</SPAN> <SPAN 
  class=br0>{</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; <SPAN class=re1>$headers</SPAN><SPAN 
  class=br0>[</SPAN><SPAN class=re1>$key</SPAN><SPAN class=br0>]</SPAN> <SPAN 
  class=sy0>=</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; &nbsp; <SPAN class=kw3>preg_replace</SPAN><SPAN 
  class=br0>(</SPAN><SPAN 
  class=st0>'=((&lt;CR&gt;|&lt;LF&gt;|0x0A/%0A|0x0D/%0D|<SPAN 
  class=es0>\\</SPAN>n|<SPAN class=es0>\\</SPAN>r)<SPAN 
  class=es0>\S</SPAN>).*=i'</SPAN><SPAN class=sy0>,</SPAN></DIV></LI>
  <LI class=li2>
  <DIV class=de2>&nbsp; &nbsp; &nbsp; <SPAN class=kw2>null</SPAN><SPAN 
  class=sy0>,</SPAN> <SPAN class=re1>$value</SPAN><SPAN class=br0>)</SPAN><SPAN 
  class=sy0>;</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1>&nbsp; <SPAN class=br0>}</SPAN></DIV></LI>
  <LI class=li1>
  <DIV class=de1><SPAN class=br0>}</SPAN></DIV></LI></OL></DIV></DIV>
<P>Taken from Mail.php authored by Chuck Hagenbuch Copyright (c) 1997-2003 The 
PHP Group version 2.02 of the PHP license </P><A name=Troubleshooting></A>
<H1><SPAN class=mw-headline>Troubleshooting</SPAN></H1><A 
name=Pear_not_up_to_date></A>
<H2><SPAN class=mw-headline>Pear not up to date</SPAN></H2>
<P>If you get the following: </P><PRE># pear install mail_mime
pear/Mail_Mime requires PEAR Installer (version &gt;= 1.6.0), installed version is 1.4.9
pear/Mail_mimeDecode requires PEAR Installer (version &gt;= 1.6.0), installed version is 1.4.9
pear/Mail_mimeDecode requires package "pear/Mail_Mime" (version &gt;= 1.4.0, excluded versions: 1.4.
</PRE>
<P>Run the following to upgrade Pear and you will be able to install Mail/Mime: 
</P><PRE># pear upgrade-all
</PRE><A name=Pear_Channels_protocol_not_up_to_date></A>
<H2><SPAN class=mw-headline>Pear Channels protocol not up to date</SPAN></H2>
<P>If you get: </P><PRE># pear install mail
WARNING: channel "pear.php.net" has updated its protocols, use "channel-update pear.php.net" to update
</PRE>
<P>Run the following to update: </P><PRE># pear channel-update pear.php.net
</PRE><A name=Emails_not_being_sent></A>
<H2><SPAN class=mw-headline>Emails not being sent</SPAN></H2>
<P>View the return value form the line </P>
<DIV style="TEXT-ALIGN: left" dir=ltr><PRE class=source-php><SPAN class=re1>$mail</SPAN><SPAN class=sy0>-&gt;</SPAN><SPAN class=me1>send</SPAN><SPAN class=br0>(</SPAN><SPAN class=re1>$recipient</SPAN><SPAN class=sy0>,</SPAN> <SPAN class=re1>$headers</SPAN><SPAN class=sy0>,</SPAN> <SPAN class=re1>$body</SPAN><SPAN class=br0>)</SPAN><SPAN class=sy0>;</SPAN></PRE></DIV>
<P>eg. </P>
<DIV style="TEXT-ALIGN: left" dir=ltr><PRE class=source-php><SPAN class=kw3>echo</SPAN><SPAN class=br0>(</SPAN><SPAN class=re1>$mail</SPAN><SPAN class=sy0>-&gt;</SPAN><SPAN class=me1>send</SPAN><SPAN class=br0>(</SPAN><SPAN class=re1>$recipient</SPAN><SPAN class=sy0>,</SPAN> <SPAN class=re1>$headers</SPAN><SPAN class=sy0>,</SPAN> <SPAN class=re1>$body</SPAN><SPAN class=br0>)</SPAN><SPAN class=br0>)</SPAN><SPAN class=sy0>;</SPAN></PRE></DIV>
<DIV class=floatright>
<DIV class=center>
<SCRIPT type=text/javascript 
src="Pear%20Mail%20-%20Phpmaniac_files/diggthis.js"></SCRIPT>
</DIV>
<DIV class=center><A 
style="FONT-FAMILY: arial, sans-serif; COLOR: #000; FONT-SIZE: 9px; TEXT-DECORATION: none" 
title="Bookmark with del.icio.us" 
onclick="window.open('http://del.icio.us/post?tags=Pear%20Mail%20-%20Phpmaniac&amp;v=4&amp;noui&amp;jump=close&amp;url=http%3A%2F%2Fwww.phpmaniac.net%2Fwiki%2Findex.php%3Ftitle%3DPear_Mail%26printable%3Dyes%26printable%3Dyes&amp;title=Pear%20Mail%20-%20Phpmaniac&amp;notes=share the latest information about Pear%20Mail%20-%20Phpmaniac.', 'del.ici.ous','toolbar=no,width=700,height=400'); return false;" 
href="http://del.icio.us/post"><IMG border=0 alt="Bookmark with del.icio.us" 
src="Pear%20Mail%20-%20Phpmaniac_files/delicious.small.gif" width=10 
height=10>del.icio.us</A></DIV>
<DIV class=center><A 
style="FONT-FAMILY: arial, sans-serif; COLOR: #33f; FONT-SIZE: 9px; TEXT-DECORATION: none" 
title="Post to facebook" 
onclick="window.open('http://www.facebook.com/sharer.php?u=http%3A%2F%2Fwww.phpmaniac.net%2Fwiki%2Findex.php%3Ftitle%3DPear_Mail%26printable%3Dyes%26printable%3Dyes&amp;t=Pear%20Mail%20-%20Phpmaniac', 'facebook','toolbar=no,width=626,height=436'); return false;" 
href="http://www.facebook.com/sharer.php"><IMG border=0 alt="Post to facebook" 
src="Pear%20Mail%20-%20Phpmaniac_files/facebook_share_icon.gif" width=16 
height=16>facebook</A></DIV>
<DIV class=center><A 
style="FONT-FAMILY: verdana, arial, helvetica, sans-serif; COLOR: #66f; FONT-SIZE: 9px; TEXT-DECORATION: none" 
title="Share on reddit" 
onclick="window.open('http://reddit.com/submit?url=http%3A%2F%2Fwww.phpmaniac.net%2Fwiki%2Findex.php%3Ftitle%3DPear_Mail%26printable%3Dyes%26printable%3Dyes&amp;title=Pear%20Mail%20-%20Phpmaniac', 'reddit','toolbar=no,width=700,height=400'); return false;" 
href="http://reddit.com/submit"><IMG border=0 alt="Share on reddit" 
src="Pear%20Mail%20-%20Phpmaniac_files/blog_head.png" width=16 
height=16>reddit</A></DIV>
<DIV class=center><A 
style="FONT-FAMILY: arial, sans-serif; COLOR: #0a0; FONT-SIZE: 9px; TEXT-DECORATION: none" 
title="stumble upon" 
onclick="window.open('http://www.stumbleupon.com/submit?url=http%3A%2F%2Fwww.phpmaniac.net%2Fwiki%2Findex.php%3Ftitle%3DPear_Mail%26printable%3Dyes%26printable%3Dyes&amp;title=Pear%20Mail%20-%20Phpmaniac', 'StumbleUpon','toolbar=no,width=750,height=500'); return false;" 
href="http://www.stumbleupon.com/submit"><IMG border=0 alt="stumble upon" 
src="Pear%20Mail%20-%20Phpmaniac_files/stumbleit.gif" width=16 height=16>stumble 
it</A></DIV></DIV>
<TABLE border=0>
  <TBODY>
  <TR>
    <TD>
      <P>
      <SCRIPT type=text/javascript><!--
	google_ad_client = "pub-6563421542423528";
	/* 728x90, created 6/9/08 */
	google_ad_slot = "8024956622";
	google_ad_width = 728;
	google_ad_height = 90;
	//-->
	</SCRIPT>

      <SCRIPT type=text/javascript 
      src="Pear%20Mail%20-%20Phpmaniac_files/show_ads.js">
	</SCRIPT>
      </P></TD>
    <TD vAlign=center></TD></TR></TBODY></TABLE>
<P><A title="Main Page" 
href="http://www.phpmaniac.net/wiki/index.php/Main_Page">Return to Contents</A> 
</P><!-- 
NewPP limit report
Preprocessor node count: 52/1000000
Post-expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
--><!-- Saved in parser cache with key wikidb:pcache:idhash:6-0!1!0!!en!2!edit=0 and timestamp 20100421031341 -->
<DIV class=printfooter>Retrieved from "<A 
href="http://www.phpmaniac.net/wiki/index.php/Pear_Mail">http://www.phpmaniac.net/wiki/index.php/Pear_Mail</A>"</DIV><!-- end content -->
<DIV class=visualClear></DIV></DIV></DIV></DIV>
<DIV id=column-one>
<DIV id=p-cactions class=portlet>
<H5>Views</H5>
<DIV class=pBody>
<UL>
  <LI id=ca-nstab-main class=selected><A accessKey=c 
  title="View the content page [c]" 
  href="http://www.phpmaniac.net/wiki/index.php/Pear_Mail">Page</A></LI>
  <LI id=ca-talk class=new><A accessKey=t 
  title="Discussion about the content page [t]" 
  href="http://www.phpmaniac.net/wiki/index.php?title=Talk:Pear_Mail&amp;action=edit">Discussion</A></LI>
  <LI id=ca-viewsource><A accessKey=e 
  title="This page is protected. You can view its source. [e]" 
  href="http://www.phpmaniac.net/wiki/index.php?title=Pear_Mail&amp;action=edit">View 
  source</A></LI>
  <LI id=ca-history><A accessKey=h title="Past versions of this page. [h]" 
  href="http://www.phpmaniac.net/wiki/index.php?title=Pear_Mail&amp;action=history">History</A></LI></UL></DIV></DIV>
<DIV id=p-personal class=portlet>
<H5>Personal tools</H5>
<DIV class=pBody>
<UL>
  <LI id=pt-login><A accessKey=o 
  title="You are encouraged to log in, it is not mandatory however. [o]" 
  href="http://www.phpmaniac.net/wiki/index.php?title=Special:Userlogin&amp;returnto=Pear_Mail">Log 
  in / create account</A></LI></UL></DIV></DIV>
<DIV id=p-logo class=portlet><A accessKey=z 
style="BACKGROUND-IMAGE: url(/img/logo.gif)" title="Visit the Main Page [z]" 
href="http://www.phpmaniac.net/wiki/index.php/Main_Page"></A></DIV>
<SCRIPT type=text/javascript> if (window.isMSIE55) fixalpha(); </SCRIPT>

<DIV id=p-navigation class=portlet>
<H5>Navigation</H5>
<DIV class=pBody>
<UL>
  <LI id=n-mainpage><A accessKey=z title="Visit the Main Page [z]" 
  href="http://www.phpmaniac.net/wiki/index.php/Main_Page">Main Page</A></LI>
  <LI id=n-portal><A 
  title="About the project, what you can do, where to find things" 
  href="http://www.phpmaniac.net/wiki/index.php/Phpmaniac:Community_Portal">Community 
  portal</A></LI>
  <LI id=n-currentevents><A 
  title="Find background information on current events" 
  href="http://www.phpmaniac.net/wiki/index.php/Phpmaniac:Current_events">Current 
  events</A></LI>
  <LI id=n-recentchanges><A accessKey=r 
  title="The list of recent changes in the wiki. [r]" 
  href="http://www.phpmaniac.net/wiki/index.php/Special:Recentchanges">Recent 
  changes</A></LI>
  <LI id=n-randompage><A accessKey=x title="Load a random page [x]" 
  href="http://www.phpmaniac.net/wiki/index.php/Special:Random">Random 
  page</A></LI>
  <LI id=n-help><A title="The place to find out." 
  href="http://www.phpmaniac.net/wiki/index.php/Help:Contents">Help</A></LI>
  <LI id=n-sitesupport><A title="Support us" 
  href="http://www.phpmaniac.net/wiki/index.php/Phpmaniac:Site_support">Donations</A></LI></UL></DIV></DIV>
<DIV id=p-search class=portlet>
<H5><LABEL for=searchInput>Search</LABEL></H5>
<DIV id=searchBody class=pBody>
<FORM id=searchform action=/wiki/index.php/Special:Search>
<DIV><INPUT accessKey=f id=searchInput title="Search Phpmaniac [f]" type=text 
name=search> <INPUT id=searchGoButton class=searchButton title="Go to a page with this exact name if exists" value=Go type=submit name=go>&nbsp; 
<INPUT id=mw-searchButton class=searchButton title="Search the pages for this text" value=Search type=submit name=fulltext> 
</DIV></FORM></DIV></DIV>
<DIV id=p-tb class=portlet>
<H5>Toolbox</H5>
<DIV class=pBody>
<UL>
  <LI id=t-whatlinkshere><A accessKey=j 
  title="List of all wiki pages that link here [j]" 
  href="http://www.phpmaniac.net/wiki/index.php/Special:Whatlinkshere/Pear_Mail">What 
  links here</A></LI>
  <LI id=t-recentchangeslinked><A accessKey=k 
  title="Recent changes in pages linked from this page [k]" 
  href="http://www.phpmaniac.net/wiki/index.php/Special:Recentchangeslinked/Pear_Mail">Related 
  changes</A></LI>
  <LI id=t-specialpages><A accessKey=q title="List of all special pages [q]" 
  href="http://www.phpmaniac.net/wiki/index.php/Special:Specialpages">Special 
  pages</A></LI>
  <LI id=t-print><A accessKey=p title="Printable version of this page [p]" 
  href="http://www.phpmaniac.net/wiki/index.php?title=Pear_Mail&amp;printable=yes">Printable 
  version</A></LI>
  <LI id=t-permalink><A title="Permanent link to this version of the page" 
  href="http://www.phpmaniac.net/wiki/index.php?title=Pear_Mail&amp;oldid=152">Permanent 
  link</A></LI></UL></DIV></DIV></DIV><!-- end of the left (by default at least) column -->
<DIV class=visualClear></DIV>
<DIV id=footer>
<DIV id=f-poweredbyico><A href="http://www.mediawiki.org/"><IMG 
alt="Powered by MediaWiki" 
src="Pear%20Mail%20-%20Phpmaniac_files/poweredby_mediawiki_88x31.png"></A></DIV>
<DIV id=f-copyrightico><A 
href="http://creativecommons.org/licenses/by-nc-nd/3.0/"><IMG 
alt="Attribution-Noncommercial-No Derivative Works 3.0 Unported" 
src="Pear%20Mail%20-%20Phpmaniac_files/88x31.png"></A></DIV>
<UL id=f-list>
  <LI id=lastmod>This page was last modified 10:12, 13 February 2009.</LI>
  <LI id=viewcount>This page has been accessed 19,131 times.</LI>
  <LI id=copyright>Content is available under <A class="external " 
  title=http://creativecommons.org/licenses/by-nc-nd/3.0/ 
  href="http://creativecommons.org/licenses/by-nc-nd/3.0/" 
  rel=nofollow>Attribution-Noncommercial-No Derivative Works 3.0 
  Unported</A>.</LI>
  <LI id=privacy><A title="Phpmaniac:Privacy policy" 
  href="http://www.phpmaniac.net/wiki/index.php/Phpmaniac:Privacy_policy">Privacy 
  policy</A></LI>
  <LI id=about><A title=Phpmaniac:About 
  href="http://www.phpmaniac.net/wiki/index.php/Phpmaniac:About">About 
  Phpmaniac</A></LI>
  <LI id=disclaimer><A title="Phpmaniac:General disclaimer" 
  href="http://www.phpmaniac.net/wiki/index.php/Phpmaniac:General_disclaimer">Disclaimers</A></LI></UL></DIV>
<SCRIPT type=text/javascript>if (window.runOnloadHook) runOnloadHook();</SCRIPT>
</DIV><!-- Served in 0.089 secs. --></BODY></HTML>
