<code><font color="#000000">
<font color="#0000BB">&lt;?php<br /></font><font color="#FF8000">//&nbsp;$Id:&nbsp;logbarex1.php,v&nbsp;1.4&nbsp;2003/05/30&nbsp;20:12:43&nbsp;aditus&nbsp;Exp&nbsp;$<br /></font><font color="#007700">include&nbsp;(</font><font color="#DD0000">"../jpgraph.php"</font><font color="#007700">);<br />include&nbsp;(</font><font color="#DD0000">"../jpgraph_log.php"</font><font color="#007700">);<br />include&nbsp;(</font><font color="#DD0000">"../jpgraph_bar.php"</font><font color="#007700">);<br /><br /></font><font color="#0000BB">$datay</font><font color="#007700">=array(</font><font color="#0000BB">4</font><font color="#007700">,</font><font color="#0000BB">13</font><font color="#007700">,</font><font color="#0000BB">30</font><font color="#007700">,</font><font color="#0000BB">28</font><font color="#007700">,</font><font color="#0000BB">12</font><font color="#007700">,</font><font color="#0000BB">45</font><font color="#007700">,</font><font color="#0000BB">30</font><font color="#007700">,</font><font color="#0000BB">12</font><font color="#007700">,</font><font color="#0000BB">55</font><font color="#007700">,</font><font color="#0000BB">3</font><font color="#007700">,</font><font color="#0000BB">0.5</font><font color="#007700">);<br /></font><font color="#0000BB">$datax</font><font color="#007700">=array(</font><font color="#DD0000">"Jan"</font><font color="#007700">,</font><font color="#DD0000">"Feb"</font><font color="#007700">,</font><font color="#DD0000">"Mar"</font><font color="#007700">,</font><font color="#DD0000">"Apr"</font><font color="#007700">,</font><font color="#DD0000">"May"</font><font color="#007700">,</font><font color="#DD0000">"Jun"</font><font color="#007700">,</font><font color="#DD0000">"Jul"</font><font color="#007700">,</font><font color="#DD0000">"Aug"</font><font color="#007700">,</font><font color="#DD0000">"Sep"</font><font color="#007700">,</font><font color="#DD0000">"Oct"</font><font color="#007700">,</font><font color="#DD0000">"Nov"</font><font color="#007700">);<br /><br /></font><font color="#FF8000">//&nbsp;Create&nbsp;the&nbsp;graph.&nbsp;<br /></font><font color="#0000BB">$graph&nbsp;</font><font color="#007700">=&nbsp;new&nbsp;</font><font color="#0000BB">Graph</font><font color="#007700">(</font><font color="#0000BB">400</font><font color="#007700">,</font><font color="#0000BB">220</font><font color="#007700">,</font><font color="#DD0000">'auto'</font><font color="#007700">);&nbsp;&nbsp;&nbsp;&nbsp;<br /></font><font color="#FF8000">//$graph-&gt;img-&gt;SetMargin(50,30,50,50);<br /></font><font color="#0000BB">$graph</font><font color="#007700">-&gt;</font><font color="#0000BB">SetScale</font><font color="#007700">(</font><font color="#DD0000">"textlog"</font><font color="#007700">);<br /></font><font color="#FF8000">//$graph-&gt;SetShadow();<br /><br />//&nbsp;Setup&nbsp;titles&nbsp;for&nbsp;graph&nbsp;and&nbsp;axis<br /></font><font color="#0000BB">$graph</font><font color="#007700">-&gt;</font><font color="#0000BB">title</font><font color="#007700">-&gt;</font><font color="#0000BB">Set</font><font color="#007700">(</font><font color="#DD0000">"Bar&nbsp;with&nbsp;logarithmic&nbsp;Y-scale"</font><font color="#007700">);<br /></font><font color="#0000BB">$graph</font><font color="#007700">-&gt;</font><font color="#0000BB">title</font><font color="#007700">-&gt;</font><font color="#0000BB">SetFont</font><font color="#007700">(</font><font color="#0000BB">FF_VERDANA</font><font color="#007700">,</font><font color="#0000BB">FS_NORMAL</font><font color="#007700">,</font><font color="#0000BB">18</font><font color="#007700">);<br /><br /></font><font color="#0000BB">$graph</font><font color="#007700">-&gt;</font><font color="#0000BB">xaxis</font><font color="#007700">-&gt;</font><font color="#0000BB">SetTitle</font><font color="#007700">(</font><font color="#DD0000">"2002"</font><font color="#007700">);<br /></font><font color="#0000BB">$graph</font><font color="#007700">-&gt;</font><font color="#0000BB">xaxis</font><font color="#007700">-&gt;</font><font color="#0000BB">title</font><font color="#007700">-&gt;</font><font color="#0000BB">SetFont</font><font color="#007700">(</font><font color="#0000BB">FF_ARIAL</font><font color="#007700">,</font><font color="#0000BB">FS_NORMAL</font><font color="#007700">,</font><font color="#0000BB">16</font><font color="#007700">);<br /><br /></font><font color="#0000BB">$graph</font><font color="#007700">-&gt;</font><font color="#0000BB">yaxis</font><font color="#007700">-&gt;</font><font color="#0000BB">title</font><font color="#007700">-&gt;</font><font color="#0000BB">SetFont</font><font color="#007700">(</font><font color="#0000BB">FF_ARIAL</font><font color="#007700">,</font><font color="#0000BB">FS_NORMAL</font><font color="#007700">,</font><font color="#0000BB">16</font><font color="#007700">);<br /></font><font color="#0000BB">$graph</font><font color="#007700">-&gt;</font><font color="#0000BB">yaxis</font><font color="#007700">-&gt;</font><font color="#0000BB">SetTitle</font><font color="#007700">(</font><font color="#DD0000">"Y-title"</font><font color="#007700">,</font><font color="#DD0000">'center'</font><font color="#007700">);<br /></font><font color="#0000BB">$graph</font><font color="#007700">-&gt;</font><font color="#0000BB">yaxis</font><font color="#007700">-&gt;</font><font color="#0000BB">SetTitleMargin</font><font color="#007700">(</font><font color="#0000BB">30</font><font color="#007700">);<br /><br /></font><font color="#FF8000">//&nbsp;Setup&nbsp;month&nbsp;on&nbsp;X-scale<br />//$graph-&gt;xaxis-&gt;SetTickLabels($datax);<br /><br />//&nbsp;Create&nbsp;a&nbsp;bar&nbsp;pot<br /></font><font color="#0000BB">$bplot&nbsp;</font><font color="#007700">=&nbsp;new&nbsp;</font><font color="#0000BB">BarPlot</font><font color="#007700">(</font><font color="#0000BB">$datay</font><font color="#007700">);<br /></font><font color="#0000BB">$bplot</font><font color="#007700">-&gt;</font><font color="#0000BB">SetFillColor</font><font color="#007700">(</font><font color="#DD0000">"orange"</font><font color="#007700">);<br /><br /></font><font color="#FF8000">//You&nbsp;can&nbsp;also&nbsp;set&nbsp;a&nbsp;manual&nbsp;base&nbsp;of&nbsp;the&nbsp;bars<br />//$bplot-&gt;SetYBase(0.001);<br /><br />/*<br />$bplot-&gt;SetShadow();<br />$bplot-&gt;value-&gt;Show();<br />$bplot-&gt;value-&gt;SetFont(FF_ARIAL,FS_BOLD);<br />$bplot-&gt;value-&gt;SetAngle(45);<br />$bplot-&gt;value-&gt;SetColor("black","darkred");<br />*/<br /><br /></font><font color="#0000BB">$graph</font><font color="#007700">-&gt;</font><font color="#0000BB">Add</font><font color="#007700">(</font><font color="#0000BB">$bplot</font><font color="#007700">);<br /><br /></font><font color="#0000BB">$graph</font><font color="#007700">-&gt;</font><font color="#0000BB">Stroke</font><font color="#007700">();<br /></font><font color="#0000BB">?&gt;<br /></font>
</font>
</code>or="#0000BB">$t</font><font color="#007700">-&gt;</font><font color="#0000BB">Set</font><font color="#007700">(</font><font color="#DD0000">'Bold&nbsp;style'</font><font color="#007700">,</font><font color="#0000BB">17.5</font><font color="#007700">,</font><font color="#0000BB">1</font><font color="#007700">,</font><font color="#0000BB">8</font><font color="#007700">);<br /></font><font color="#0000BB">$t</font><font color="#007700">-&gt;</font><font color="#0000BB">Stroke</font><font color="#007700">(</font><font color="#0000BB">$g</font><font color="#007700">-&gt;</font><font color="#0000BB">img</font><font color="#007700">,</font><font color="#0000BB">$scale</font><font color="#007700">);<br /><br /><br /></font><font color="#0000BB">$t</font><font color="#007700">-&gt;</font><font color="#0000BB">SetFillColor</font><font color="#007700">(</font><font color="#DD0000">'yellow'</font><font color="#007700">);<br /></font><font color="#0000BB">$t</font><font color="#007700">-&gt;</font><font color="#0000BB">SetFontColor</font><font color="#007700">(</font><font color="#DD0000">'black'</font><font color="#007700">);<br /></font><font color="#0000BB">$t</font><font color="#007700">-&gt;</font><font color="#0000BB">SetColor</font><font color="#007700">(</font><font color="#DD0000">'black'</font><font color="#007700">);<br /></font><font color="#0000BB">$t</font><font color="#007700">-&gt;</font><font color="#0000BB">SetShadow</font><font color="#007700">(</font><font color="#DD0000">'gray'</font><font color="#007700">);<br /><br /></font><font color="#0000BB">$r</font><font color="#007700">=</font><font color="#0000BB">6</font><font color="#007700">;</font><font color="#0000BB">$c</font><font color="#007700">=</font><font color="#0000BB">1</font><font color="#007700">;</font><font color="#0000BB">$w</font><font color="#007700">=</font><font color="#0000BB">7.5</font><font color="#007700">;</font><font color="#0000BB">$h</font><font color="#007700">=</font><font color="#0000BB">3.5</font><font color="#007700">;<br /><br /></font><font color="#0000BB">$fonts</font><font color="#007700">=array(<br />&nbsp;&nbsp;&nbsp;&nbsp;array(</font><font color="#DD0000">"Font&nbsp;0"</font><font color="#007700">,</font><font color="#0000BB">FF_FONT0</font><font color="#007700">,</font><font color="#0000BB">FS_NORMAL</font><font color="#007700">),<br />&nbsp;&nbsp;&nbsp;&nbsp;array(</font><font color="#DD0000">""</font><font color="#007700">,</font><font color="#0000BB">FF_FONT0</font><font color="#007700">,</font><font color="#0000BB">FS_ITALIC</font><font color="#007700">),<br />&nbsp;&nbsp;&nbsp;&nbsp;array(</font><font color="#DD0000">""</font><font color="#007700">,</font><font color="#0000BB">FF_FONT0</font><font color="#007700">,</font><font color="#0000BB">FS_BOLD</font><font color="#007700">),<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;array(</font><font color="#DD0000">"Font&nbsp;1"</font><font color="#007700">,</font><font color="#0000BB">FF_FONT1</font><font color="#007700">,</font><font color="#0000BB">FS_NORMAL</font><font color="#007700">),<br />&nbsp;&nbsp;&nbsp;&nbsp;array(</font><font color="#DD0000">""</font><font color="#007700">,</font><font color="#0000BB">FF_FONT1</font><font color="#007700">,</font><font color="#0000BB">FS_ITALIC</font><font color="#007700">),<br />&nbsp;&nbsp;&nbsp;&nbsp;array(</font><font color="#DD0000">"Font&nbsp;1&nbsp;bold"</font><font color="#007700">,</font><font color="#0000BB">FF_FONT1</font><font color="#007700">,</font><font color="#0000BB">FS_BOLD</font><font color="#007700">),<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;array(</font><font color="#DD0000">"Font&nbsp;2"</font><font color="#007700">,</font><font color="#0000BB">FF_FONT2</font><font color="#007700">,</font><font color="#0000BB">FS_NORMAL</font><font color="#007700">),<br />&nbsp;&nbsp;&nbsp;&nbsp;array(</font><font color="#DD0000">""</font><font color="#007700">,</font><font color="#0000BB">FF_FONT2</font><font color="#007700">,</font><font color="#0000BB">FS_ITALIC</font><font color="#007700">),<br />&nbsp;&nbsp;&nbsp;&nbsp;array(</font><font color="#DD0000">"Font&nbsp;2&nbsp;bold"</font><font color="#007700">,</font><font color="#0000BB">FF_FONT2</font><font color="#007700">,</font><font color="#0000BB">FS_BOLD</font><font color="#007700">),<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;array(</font><font color="#DD0000">"Arial"</font><font color="#007700">,</font><font color="#0000BB">FF_ARIAL</font><font color="#007700">,</font><font color="#0000BB">FS_NORMAL</font><font color="#007700">),<br />&nbsp;&nbsp;&nbsp;&nbsp;array(</font><font color="#DD0000">"Arial&nbsp;italic"</font><font color="#007700">,</font><font color="#0000BB">FF_ARIAL</font><font color="#007700">,</font><font color="#0000BB">FS_ITALIC</font><font color="#007700">),<br />&nbsp;&nbsp;&nbsp;&nbsp;array(</font><font color="#DD0000">"Arial&nbsp;bold"</font><font color="#007700">,</font><font color="#0000BB">FF_ARIAL</font><font color="#007700">,</font><font color="#0000BB">FS_BOLD</font><font color="#007700">),<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;array(</font><font color="#DD0000">"Verdana"</font><font color="#007700">,</font><font color="#0000BB">FF_VERDANA</font><font color="#007700">,</font><font color="#0000BB">FS_NORMAL</font><font color="#007700">),<br />&nbsp;&nbsp;&nbsp;&nbsp;array(</font><font color="#DD0000">"Verdana&nbsp;italic"</font><font color="#007700">,</font><font color="#0000BB">FF_VERDANA</font><font color="#007700">,</font><font color="#0000BB">FS_ITALIC</font><font color="#007700">),<br />&nbsp;&nbsp;&nbsp;&nbsp;array(</font><font color="#DD0000">"Verdana&nbsp;bold"</font><font color="#007700">,</font><font color="#0000BB">FF_VERDANA</font><font color="#007700">,</font><font color="#0000BB">FS_BOLD</font><font color="#007700">),<br /><br /><br />&nbsp;&nbsp;&nbsp;&nbsp;array(</font><font color="#DD0000">"Trebuche"</font><font color="#007700">,</font><font color="#0000BB">FF_TREBUCHE</font><font color="#007700">,</font><font color="#0000BB">FS_NORMAL</font><font color="#007700">),<br />&nbsp;&nbsp;&nbsp;&nbsp;array(</font><font color="#DD0000">"Trebuche&nbsp;italic"</font><font color="#007700">,</font><font color="#0000BB">FF_TREBUCHE</font><font color="#007700">,</font><font color="#0000BB">FS_ITALIC</font><font color="#007700">),<br />&nbsp;&nbsp;&nbsp;&nbsp;array(</font><font color="#DD0000">"Trebuche&nbsp;bold"</font><font color="#007700">,</font><font color="#0000BB">FF_TREBUCHE</font><font color="#007700">,</font><font color="#0000BB">FS_BOLD</font><font color="#007700">),<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;array(</font><font color="#DD0000">"Georgia"</font><font color="#007700">,</font><font color="#0000BB">FF_GEORGIA</font><font color="#007700">,</font><font color="#0000BB">FS_NORMAL</font><font color="#007700">),<br />&nbsp;&nbsp;&nbsp;&nbsp;array(</font><font color="#DD0000">"Georgia&nbsp;italic"</font><font color="#007700">,</font><font color="#0000BB">FF_GEORGIA</font><font color="#007700">,</font><font color="#0000BB">FS_ITALIC</font><font color="#007700">),<br />&nbsp;&nbsp;&nbsp;&nbsp;array(</font><font color="#DD0000">"Georgia&nbsp;bold"</font><font color="#007700">,</font><font color="#0000BB">FF_GEORGIA</font><font color="#007700">,</font><font color="#0000BB">FS_BOLD</font><font color="#007700">),<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;array(</font><font color="#DD0000">"Comic"</font><font color="#007700">,</font><font color="#0000BB">FF_COMIC</font><font color="#007700">,</font><font color="#0000BB">FS_NORMAL</font><font color="#007700">),<br />&nbsp;&nbsp;&nbsp;&nbsp;array(</font><font color="#DD0000">""</font><font color="#007700">,</font><font color="#0000BB">FF_COMIC</font><font color="#007700">,</font><font color="#0000BB">FS_ITALIC</font><font color="#007700">),<br />&nbsp;&nbsp;&nbsp;&nbsp;array(</font><font color="#DD0000">"Comic&nbsp;bold"</font><font color="#007700">,</font><font color="#0000BB">FF_COMIC</font><font color="#007700">,</font><font color="#0000BB">FS_BOLD</font><font color="#007700">),<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;array(</font><font color="#DD0000">"Courier"</font><font color="#007700">,</font><font color="#0000BB">FF_COURIER</font><font color="#007700">,</font><font color="#0000BB">FS_NORMAL</font><font color="#007700">),<br />&nbsp;&nbsp;&nbsp;&nbsp;array(</font><font color="#DD0000">"Courier&nbsp;italic"</font><font color="#007700">,</font><font color="#0000BB">FF_COURIER</font><font color="#007700">,</font><font color="#0000BB">FS_ITALIC</font><font color="#007700">),<br />&nbsp;&nbsp;&nbsp;&nbsp;array(</font><font color="#DD0000">"Courier&nbsp;bold"</font><font color="#007700">,</font><font color="#0000BB">FF_COURIER</font><font color="#007700">,</font><font color="#0000BB">FS_BOLD</font><font color="#007700">),<br /><br /><br />&nbsp;&nbsp;&nbsp;&nbsp;array(</font><font color="#DD0000">"Times&nbsp;normal"</font><font color="#007700">,</font><font color="#0000BB">FF_TIMES</font><font color="#007700">,</font><font color="#0000BB">FS_NORMAL</font><font color="#007700">),<br />&nbsp;&nbsp;&nbsp;&nbsp;array(</font><font color="#DD0000">"Times&nbsp;italic"</font><font color="#007700">,</font><font color="#0000BB">FF_TIMES</font><font color="#007700">,</font><font color="#0000BB">FS_ITALIC</font><font color="#007700">),<br />&nbsp;&nbsp;&nbsp;&nbsp;array(</font><font color="#DD0000">"Times&nbsp;bold&nbsp;italic"</font><font color="#007700">,</font><font color="#0000BB">FF_TIMES</font><font color="#007700">,</font><font color="#0000BB">FS_BOLDITALIC</font><font color="#007700">),<br />&nbsp;&nbsp;&nbsp;&nbsp;);<br /><br /><br /></font><font color="#0000BB">$n</font><font color="#007700">=</font><font color="#0000BB">count</font><font color="#007700">(</font><font color="#0000BB">$fonts</font><font color="#007700">);<br /><br />for(&nbsp;</font><font color="#0000BB">$i</font><font color="#007700">=</font><font color="#0000BB">0</font><font color="#007700">;&nbsp;</font><font color="#0000BB">$i&nbsp;</font><font color="#007700">&lt;&nbsp;</font><font color="#0000BB">$n</font><font color="#007700">;&nbsp;++</font><font color="#0000BB">$i&nbsp;</font><font color="#007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;if(&nbsp;</font><font color="#0000BB">$i</font><font color="#007700">==</font><font color="#0000BB">9&nbsp;</font><font color="#007700">)&nbsp;</font><font color="#0000BB">$r&nbsp;</font><font color="#007700">+=&nbsp;</font><font color="#0000BB">3</font><font color="#007700">;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;if(&nbsp;</font><font color="#0000BB">$fonts</font><font color="#007700">[</font><font color="#0000BB">$i</font><font color="#007700">][</font><font color="#0000BB">0</font><font color="#007700">]&nbsp;)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$t</font><font color="#007700">-&gt;</font><font color="#0000BB">SetTxt</font><font color="#007700">(</font><font color="#0000BB">$fonts</font><font color="#007700">[</font><font color="#0000BB">$i</font><font color="#007700">][</font><font color="#0000BB">0</font><font color="#007700">]);<br />&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$t</font><font color="#007700">-&gt;</font><font color="#0000BB">SetPos</font><font color="#007700">(</font><font color="#0000BB">$c</font><font color="#007700">,</font><font color="#0000BB">$r</font><font color="#007700">,</font><font color="#0000BB">$w</font><font color="#007700">,</font><font color="#0000BB">$h</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$t</font><font color="#007700">-&gt;</font><font color="#0000BB">SetFont</font><font color="#007700">(</font><font color="#0000BB">$fonts</font><font color="#007700">[</font><font color="#0000BB">$i</font><font color="#007700">][</font><font color="#0000BB">1</font><font color="#007700">],</font><font color="#0000BB">$fonts</font><font color="#007700">[</font><font color="#0000BB">$i</font><font color="#007700">][</font><font color="#0000BB">2</font><font color="#007700">],</font><font color="#0000BB">13</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$t</font><font color="#007700">-&gt;</font><font color="#0000BB">Stroke</font><font color="#007700">(</font><font color="#0000BB">$g</font><font color="#007700">-&gt;</font><font color="#0000BB">img</font><font color="#007700">,</font><font color="#0000BB">$scale</font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$c&nbsp;</font><font color="#007700">+=&nbsp;</font><font color="#0000BB">$w</font><font color="#007700">+</font><font color="#0000BB">1</font><font color="#007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;if(&nbsp;</font><font color="#0000BB">$c&nbsp;</font><font color="#007700">&gt;&nbsp;</font><font color="#0000BB">30</font><font color="#007700">-</font><font color="#0000BB">$w</font><font color="#007700">-</font><font color="#0000BB">2&nbsp;</font><font color="#007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$c&nbsp;</font><font color="#007700">=&nbsp;</font><font color="#0000BB">1</font><font color="#007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$r&nbsp;</font><font color="#007700">+=&nbsp;</font><font color="#0000BB">4</font><font color="#007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />}<br /><br /></font><font color="#0000BB">$g</font><font color="#007700">-&gt;</font><font color="#0000BB">Stroke</font><font color="#007700">();<br /></font><font color="#0000BB">?&gt;<br /></font><br /></font>
